"use strict";(self.webpackChunkproject_bni_dashboard=self.webpackChunkproject_bni_dashboard||[]).push([[3677],{31332:function(e,t,n){n.d(t,{Cz:function(){return a}});var a=["#E55300","#006677","#E59700","#004C77","#E53700","#007753","#E3BF00","#62B5C4","#538DAD","#A73C00"]},3677:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});var a=n(46759),r=n.n(a),o=n(30341),i=n(85640),l=n(34148),d=n(42982),c=n(36459),s=n(53976),u=n(1413),g=n(76291),x=n.n(g)()((function(e){return{otherBankCorporateList:[],bankList:[],dashboardPeriod:[],addOtherBankCorporateList:function(t){return e((function(e){return(0,u.Z)((0,u.Z)({},e),{},{otherBankCorporateList:t})}))},addBankList:function(t){return e((function(e){return(0,u.Z)((0,u.Z)({},e),{},{bankList:t})}))},addDashboardPeriod:function(t){return e((function(e){return(0,u.Z)((0,u.Z)({},e),{},{dashboardPeriod:t})}))}}})),p=n(10190),m=n(46417),f=function(e){var t;(0,c.Z)(e);var n=(0,s.S)(),a=n.selectedCorporate,r=n.setSelectedCorporate,o=x((function(e){return e}),p.Z).otherBankCorporateList;return(0,m.jsxs)(l.Box,{display:"flex",gap:2,w:"100%",alignItems:"center",children:[(0,m.jsx)(l.Text,{whiteSpace:"nowrap",fontWeight:"bold",children:(0,m.jsx)(i.FormattedMessage,{id:"aggregateBank.select.customerId"})}),(0,m.jsx)(l.Select,{onChange:function(e){return r(e.target.value)},value:a,children:null===(t=[{cif:"all",id:"all",name:"All"}].concat((0,d.Z)(o||[])))||void 0===t?void 0:t.map((function(e){var t=e.id,n=e.name;return(0,m.jsx)("option",{value:t,children:"all"!==t?"".concat(t," - ").concat(n):n},t)}))})]})},h=function(e){var t;(0,c.Z)(e);var n=(0,s.S)(),a=n.selectedBank,r=n.setSelectedBank,o=x((function(e){return e}),p.Z).bankList;return(0,m.jsxs)(l.Box,{display:"flex",gap:2,w:"100%",alignItems:"center",children:[(0,m.jsx)(l.Text,{whiteSpace:"nowrap",fontWeight:"bold",children:(0,m.jsx)(i.FormattedMessage,{id:"aggregateBank.select.bank"})}),(0,m.jsx)(l.Select,{onChange:function(e){return r(e.target.value)},value:a,children:null===(t=[{bankName:"All"}].concat((0,d.Z)(o||[])))||void 0===t?void 0:t.map((function(e){var t=e.bankName;return(0,m.jsx)("option",{value:t,children:t},t)}))})]})},b=n(30936),v=n(6875),y=n(33438),j=n(27303),S=n(43015),B=function(){var e;(0,i.useIntl)();return(0,m.jsx)(l.Stack,{direction:"row",spacing:2,children:(0,m.jsxs)(l.Stack,{bg:"gray.100",px:4,py:2,rounded:8,direction:"row",alignItems:"center",children:[(0,m.jsx)(l.Circle,{size:"16px",bg:null===(e=j.O.teal)||void 0===e?void 0:e[500]}),(0,m.jsx)(l.Text,{fontSize:"sm",children:(0,m.jsx)(i.FormattedMessage,{id:"aggregateBank.title.totalSaving"})})]})})};v.Chart.register(v.CategoryScale,v.LinearScale,v.PointElement,v.LineElement,v.Title,v.Tooltip,v.Legend);var w=function(e){var t,n=e.labels,r=e.dataSets,o=void 0===r?[]:r,i=e.id,d=(0,a.useMemo)((function(){var e,t;return{labels:n,datasets:[{label:null===n||void 0===n?void 0:n[0],data:o,backgroundColor:null===(e=j.O.teal)||void 0===e?void 0:e[500],borderColor:null===(t=j.O.teal)||void 0===t?void 0:t[500],pointStyle:"circle",pointRadius:5}]}}),[n,o]),c=(0,a.useRef)(null),s={maintainAspectRatio:!1,plugins:{legend:{display:!1,labels:{usePointStyle:!0}},tooltip:{enabled:!1,external:function(e){var t=document.getElementById("".concat(i,"-tooltip"));t||((t=document.createElement("div")).id="".concat(i,"-tooltip"),t.innerHTML="<table></table>",document.body.appendChild(t));var n=e.tooltip;if(0!==n.opacity){if(t.classList.remove("above","below","no-transform"),n.yAlign?t.classList.add(n.yAlign):t.classList.add("no-transform"),n.body){var a="<tbody>",r=n.dataPoints[0].dataset.backgroundColor,o=Number((Number(n.dataPoints[0].raw)/1e6).toFixed(2)),l="background: white";l+="; position : relative",l+="; border-color:"+r,l+="; box-shadow : 0px 8px 16px -8px"+r,l+="; padding : 8px",l+="; border-radius : 8px",l+="; border : 1px solid "+r,l+="; border-width: 2px",l+="; z-index : 2",a+="<tr><td>"+('<span style="'+(l+="; white-space : nowrap;")+' class=""> IDR '+(0,S.a6)(String(o))+"</span>")+"</td></tr>",a+="</tbody>";var d=t.querySelector("table");d&&(d.innerHTML=a)}var c=e.chart.canvas.getBoundingClientRect();t.style.opacity="1",t.style.position="absolute",t.style.left=c.left+window.pageXOffset+10+n.caretX+"px",t.style.top=c.top+window.pageYOffset-10+n.caretY+"px",t.style.padding=n.padding+"px "+n.padding+"px",t.style.pointerEvents="none"}else t.style.opacity="0"}}},scales:{x:{grid:{display:!1,drawBorder:!1}},y:{grid:{drawBorder:!1,borderDash:[8,4]},ticks:{callback:function(e){return(0,S.a6)(String(Number(e)/1e6))}}}}};return(0,m.jsxs)(l.Box,{width:"100%",children:[(0,m.jsx)(l.Box,{height:320,children:(0,m.jsx)(y.Line,{options:s,data:d,ref:c})}),(null===d||void 0===d||null===(t=d.datasets)||void 0===t?void 0:t.length)>0&&(0,m.jsx)(l.Flex,{flexDir:"row-reverse",mt:4,children:(0,m.jsx)(B,{})})]})},C=function(e){(0,c.Z)(e);var t=(0,s.S)(),n=t.selectedPeriod,a=t.setSelectedPeriod,r=x((function(e){return e}),p.Z).dashboardPeriod;return(0,m.jsxs)(l.Box,{display:"flex",flexDirection:{base:"column",md:"row"},gap:2,alignItems:{md:"center"},width:"100%",justifyContent:"flex-end",children:[(0,m.jsx)(l.Text,{whiteSpace:"nowrap",fontWeight:"bold",children:(0,m.jsx)(i.FormattedMessage,{id:"aggregateBank.select.period"})}),(0,m.jsx)(l.Select,{onChange:function(e){return a(e.target.value)},value:n,maxWidth:{base:"100%",md:200},children:null===r||void 0===r?void 0:r.map((function(e){var t=e.code,n=e.name;return(0,m.jsx)("option",{value:t,children:n},t)}))})]})},P=n(32231),k=function(){var e,t=(0,s.S)((function(e){return e}),p.Z),n=t.selectedCorporate,a=t.selectedPeriod,o=(0,P.a)((function(e){return e}),p.Z).companyId,d=(e={corporate:"all"!==n?n:o,period:a,needGetChildCif:"all"===n},(0,b.eZ)({path:"dashboardotherbank/getbalancetrend",method:"POST",body:(0,u.Z)({},e),isReady:!(!e.corporate||!e.period)})).data,c=r().useMemo((function(){var e,t;return{labels:(null===d||void 0===d||null===(e=d.content)||void 0===e?void 0:e.map((function(e){return e.barName})))||[],dataSets:(null===d||void 0===d||null===(t=d.content)||void 0===t?void 0:t.map((function(e){return e.balance})))||[]}}),[d]);return(0,m.jsxs)(l.Box,{bg:"white",rounded:"xl",p:6,mt:8,display:"flex",flexDirection:"column",gap:8,children:[(0,m.jsxs)(l.Flex,{gap:4,direction:{base:"column",md:"row"},justifyContent:"space-between",children:[(0,m.jsxs)(l.Flex,{direction:"column",gap:1,w:"100%",children:[(0,m.jsx)(l.Text,{fontSize:24,fontWeight:"bold",children:(0,m.jsx)(i.FormattedMessage,{id:"aggregateBank.card.trend.title"})}),(0,m.jsx)(l.Text,{fontSize:14,children:(0,m.jsx)(i.FormattedMessage,{id:"aggregateBank.card.trend.subtitle"})})]}),(0,m.jsx)(C,{})]}),(0,m.jsx)(w,{id:"trend-chart",labels:null===c||void 0===c?void 0:c.labels,dataSets:null===c||void 0===c?void 0:c.dataSets})]})},I=n(90076),F=n(55159),Z=n(53189),z=[{accessor:"currency",Header:"headerSummaryCurrency"},{accessor:"balance",Header:"headerSummaryBalance"},{accessor:"localBalance",Header:"headerSummaryLocalBalance"},{accessor:"percentage",Header:"headerSummaryPercentage"},{accessor:"color"}],T=n(31332),D=n(1896),L=function(e){var t,n,o=e.id,d=e.data,c=(0,i.useIntl)(),s=r().useMemo((function(){return(null===d||void 0===d?void 0:d.map((function(e,t){return{currency:e.name,balance:String(e.balanceOri),localBalance:String(e.balanceLocal),percentage:String(e.percentage),color:T.Cz[t]}})))||[]}),[d]),u=(0,Z.useTable)({columns:z,data:s},Z.useSortBy),g=u.headerGroups,x=u.rows,p=u.setSortBy;return(0,a.useEffect)((function(){p([{id:"percentage",desc:!0}])}),[s]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Grid,{templateColumns:"6fr 6fr",borderBottom:"1px",borderBottomColor:"orange.100",pb:"1",children:null===(t=g[0])||void 0===t||null===(n=t.headers)||void 0===n?void 0:n.map((function(e,t){if("currency"===e.id||"balance"===e.id)return(0,m.jsx)(l.Box,{fontSize:12,color:"gray.500",children:c.formatMessage({id:e.render("Header")})},t)}))}),(0,m.jsx)(l.Accordion,{id:"".concat(o,"-accordion"),allowToggle:!0,pointerEvents:"initial",children:0===x.length?(0,m.jsx)(l.Flex,{alignItems:"center",justifyContent:"center",w:"100%",h:"20",children:(0,m.jsx)(l.Text,{fontSize:12,color:"gray.400",fontStyle:"italic",children:"No Data"})}):(0,m.jsx)(m.Fragment,{children:x.map((function(e,t){var n,a;return(0,m.jsxs)(l.AccordionItem,{id:"".concat(o,"-accordion-item-").concat((0,D.R)(e.values.currency)),borderBottom:"1px",borderTop:"1px",borderBottomColor:"orange.100",borderTopColor:"orange.100",children:[(0,m.jsx)(l.AccordionButton,{id:"".concat(o,"-accordion-item-").concat((0,D.R)(e.values.currency),"-btn"),px:0,py:2,children:(0,m.jsxs)(l.Grid,{textAlign:"left",w:"full",templateColumns:"4fr 4fr",fontSize:14,children:[(0,m.jsxs)(l.Flex,{alignItems:"center",children:[(0,m.jsx)(l.Box,{width:"14px",height:"14px",marginRight:2,rounded:"full",bgColor:e.values.color}),(0,m.jsx)(l.Text,{children:e.values.currency})]}),(0,m.jsxs)(l.Flex,{justifyContent:"space-between",children:[(0,m.jsx)(l.Box,{fontWeight:700,children:(0,S.a6)(e.values.balance)}),(0,m.jsx)(l.AccordionIcon,{color:"orange.500"})]})]})}),(0,m.jsx)(l.AccordionPanel,{px:0,children:(0,m.jsx)(l.Flex,{flexDirection:"column",children:null===(n=g[0])||void 0===n||null===(a=n.headers)||void 0===a?void 0:a.map((function(t,n){if("currency"!==t.id&&"balance"!==t.id&&"color"!==t.id)return(0,m.jsxs)(l.Grid,{textAlign:"left",w:"full",templateColumns:"4fr 4fr",mb:"2",children:[(0,m.jsx)(l.Box,{fontSize:12,color:"gray.500",children:c.formatMessage({id:t.render("Header")})},n),(0,m.jsx)(l.Box,{fontSize:14,children:"localBalance"===t.id?(0,S.a6)(e.values[t.id]):"percentage"===t.id?"".concat((0,S.VG)(e.values[t.id])," %"):e.values[t.id]})]},n)}))})})]},"".concat(t,"-Accordion"))}))})})]})},M=n(66866),A=n.n(M);v.Chart.register(v.ArcElement,v.Tooltip,v.Legend,v.Title);var W=function(e){var t=e.id,n=e.data,a=r().useMemo((function(){return{labels:n.map((function(e){return e.name})),datasets:[{data:n.map((function(e){var t=e.percentage;return Number(t)})),backgroundColor:n.map((function(e,t){return T.Cz[t]}))}]}}),[n]);return(0,m.jsx)(l.Box,{maxW:400,maxH:400,children:0===a.datasets.length?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(l.Flex,{alignItems:"center",justifyContent:"center",w:"100%",h:"20",children:(0,m.jsx)(l.Text,{fontSize:12,color:"gray.400",fontStyle:"italic",children:"No Data"})})}):(0,m.jsx)(y.Doughnut,{data:a,options:{elements:{arc:{borderWidth:0}},plugins:{legend:{display:!1},tooltip:{enabled:!1,external:function(e){var a=document.getElementById("".concat(t,"-tooltip"));a||((a=document.createElement("div")).id="".concat(t,"-tooltip"),a.innerHTML="<table></table>",document.body.appendChild(a));var r=e.tooltip;if(0!==r.opacity){if(a.classList.remove("above","below","no-transform"),r.yAlign?a.classList.add(r.yAlign):a.classList.add("no-transform"),r.body){var o,i="<tbody>",l=r.dataPoints[0].dataIndex,d=r.dataPoints[0].dataset.backgroundColor[l],c=r.dataPoints[0].label,s=Number(r.dataPoints[0].raw),u=null===(o=n[l])||void 0===o?void 0:o.balanceLocal,g="background: white";g+="; position : relative",g+="; padding : 8px 16px",g+="; border-radius : 8px",g+="; border-color : "+d,g+="; border-width: 1px",g+="; z-index : 2",i+='<tr>\n                      <td>\n                        <div style="'.concat(g+="; white-space : nowrap;",'" class="">\n                          <span style="color: ').concat(d,';font-weight:bold">').concat(c,'</span><br/>\n                          <span style="font-weight:bold">').concat((0,S.a6)(String(u)),"</span><br/>\n                          <span>").concat(s," %</span>\n                        </div>\n                      </td>\n                    </tr>");var x=a.querySelector("table");x&&(x.innerHTML=i)}var p=e.chart.canvas.getBoundingClientRect();a.style.opacity="1",a.style.position="absolute",a.style.left=p.left+window.pageXOffset+r.caretX+"px",a.style.top=p.top+window.pageYOffset-40+r.caretY+"px",a.style.padding=r.padding+"px "+r.padding+"px",a.style.pointerEvents="none"}else a.style.opacity="0"}},datalabels:{formatter:function(e,t){var n;return"".concat(null===(n=t.chart.data.labels)||void 0===n?void 0:n[t.dataIndex],"\n ").concat(e,"%")},textAlign:"center",font:{weight:"bold"},color:"white"}}},plugins:[A()]})})},H=function(e){var t,n=e.balanceLocal,a=(0,i.useIntl)();return(0,m.jsxs)(l.Flex,{flexDirection:{base:"row",md:"column"},justifyContent:"space-between",children:[(0,m.jsx)(l.Text,{fontSize:14,children:a.formatMessage({id:"totalDeposit"})}),(0,m.jsxs)(l.Text,{fontSize:18,fontWeight:700,children:["IDR ",null!==(t=(0,S.a6)(String(n)))&&void 0!==t?t:"-"]})]})},N=n(94228),E=function(e){var t,n,a;(0,c.Z)(e);var r=(0,F.useLocation)().pathname,o=(0,s.S)((function(e){return e}),p.Z).selectedCorporate,d=(0,P.a)((function(e){return e}),p.Z).companyId,u=(0,N.$n)({corporateId:"all"!==o?o:d,needGetChildCif:"all"===o}).data;return(0,m.jsx)(l.Box,{bg:"white",rounded:"xl",p:6,mt:8,display:"flex",flexDirection:"column",gap:8,children:(0,m.jsxs)(l.Flex,{flexDirection:"column",children:[(0,m.jsx)(l.Flex,{gap:4,direction:{base:"column",md:"row"},justifyContent:"space-between",mb:8,children:(0,m.jsxs)(l.Flex,{direction:"column",gap:1,w:"100%",children:[(0,m.jsx)(l.Text,{fontSize:24,fontWeight:"bold",children:(0,m.jsx)(i.FormattedMessage,{id:"aggregateBank.card.summary.title"})}),(0,m.jsx)(l.Text,{fontSize:14,children:(0,m.jsx)(i.FormattedMessage,{id:"aggregateBank.card.summary.subtitle"})})]})}),(0,m.jsx)(H,{balanceLocal:null===u||void 0===u||null===(t=u.content)||void 0===t?void 0:t.totalCurrency}),(0,m.jsxs)(l.Grid,{my:"4",templateColumns:{base:"1fr",lg:null!==r&&void 0!==r&&r.split("/")[1]?"6fr 6fr":"1fr"},gap:4,children:[(0,m.jsx)(l.Box,{overflow:"hidden",children:(0,m.jsx)(L,{id:"saving-summary",data:(null===u||void 0===u||null===(n=u.content)||void 0===n?void 0:n.currencies)||[]})}),(null===r||void 0===r?void 0:r.split("/")[1])&&(0,m.jsx)(l.Box,{mx:"auto",children:(0,m.jsxs)(l.Box,{position:"sticky",top:"32",children:[(0,m.jsxs)(l.Text,{align:"center",fontWeight:"bold",mb:2,children:[(0,m.jsx)(i.FormattedMessage,{id:"titleAssetDepositGraph"})," (%)"]}),(0,m.jsx)(W,{id:"saving-summary-chart",data:(null===u||void 0===u||null===(a=u.content)||void 0===a?void 0:a.currencies)||[]})]})})]}),(0,m.jsx)(l.Text,{fontSize:"sm",color:"gray.500",mb:3,children:(0,m.jsx)(i.FormattedMessage,{id:"tableLegend"})})]})})},G=n(70885),R=n(2789),O=function(e){var t=e.cell,n=e.isFirstColumn;e.id;return(0,m.jsx)(l.Flex,{alignItems:"center",w:t.column.width,maxW:t.column.maxWidth,minW:t.column.minWidth,my:{base:1,md:2},overflow:"hidden",children:(0,m.jsx)(l.Text,{noOfLines:1,color:"gray.900",fontSize:{base:14,md:16},mr:4,maxW:t.column.width,fontWeight:n?"bold":400,children:"createdDate"===t.column.id?(0,R.format)(new Date(t.value),"yyyy-MMM-dd"):t.render("Cell")})})},X=n(32916),_=function(e){var t=e.header,n=e.id,a=(0,i.useIntl)();return(0,m.jsxs)(l.Flex,(0,u.Z)((0,u.Z)({id:n,py:2,alignItems:"center"},t.getSortByToggleProps()),{},{w:t.width,maxW:t.maxWidth,minW:t.minWidth,children:[(0,m.jsx)(l.Text,{color:"gray.600",textTransform:"capitalize",fontWeight:"400",fontSize:{base:12,md:14},mr:4,children:""!==t.Header?a.formatMessage({id:t.Header}):""}),t.isSorted&&(t.isSortedDesc?(0,m.jsx)(X.bTu,{color:"gray.400",size:16}):(0,m.jsx)(X.rH8,{color:"gray.400",size:16}))]}))},Y=n(22539),V=function(e){var t=e.currentPageIndex,n=void 0===t?0:t,a=e.listPageSize,r=e.currentPageSize,o=e.onNextPage,d=e.onPrevPage,c=e.countData,s=e.selectPageIndex,u=e.selectedListperPage,g=e.id,x=Math.ceil(c/r),p=function(e){return function(){return s(e)}};return(0,m.jsxs)(l.Flex,{justify:"space-between",flexDir:{base:"column-reverse",md:"row"},alignItems:"center",children:[(0,m.jsxs)(l.Flex,{gap:4,alignItems:"center",display:"flex",width:"100%",children:[(0,m.jsx)(l.Text,{fontWeight:400,fontSize:"sm",color:"gray.600",children:(0,m.jsx)(i.FormattedMessage,{id:"numberOfRows"})}),null===a||void 0===a?void 0:a.map((function(e){return(0,m.jsx)(l.Button,{id:"".concat(g,"-pagination-page-size-").concat(e,"-btn"),size:"sm",rounded:"none",variant:r===e?"solid":"ghost",fontWeight:700,onClick:(t=e,function(){return u(t)}),children:e},e);var t}))]}),(0,m.jsxs)(l.Flex,{alignItems:"center",justifyContent:"flex-end",width:"100%",children:[(0,m.jsx)(l.Button,{id:"".concat(g,"-pagination-previous-page-btn"),variant:"ghost",onClick:d,disabled:0===n,children:(0,m.jsx)(Y.sG8,{size:24})}),(0,m.jsxs)(l.Flex,{children:[Array.from(Array(x).keys()).map((function(e){return e<4?(0,m.jsx)(l.Button,{id:"".concat(g,"-pagination-page-").concat(e+1,"-btn"),size:"sm",rounded:"none",variant:n===e?"solid":"ghost",fontWeight:700,onClick:p(e),children:e+1},e):null})),x>4&&(0,m.jsxs)(m.Fragment,{children:["...",(0,m.jsx)(l.Button,{id:"".concat(g,"-pagination-page-").concat(x,"-btn"),size:"sm",rounded:"none",variant:n===x?"solid":"ghost",fontWeight:700,onClick:p(x),children:x})]})]}),(0,m.jsx)(l.Button,{id:"".concat(g,"-pagination-next-page-btn"),variant:"ghost",onClick:o,disabled:n===x-1,children:(0,m.jsx)(Y.AeI,{size:24})})]})]})},q=function(e){var t=e.onSort,n=e.columns,r=e.tableData,o=e.defaultItemPerPage,d=e.defaultPageNumber,c=e.totalPage,s=void 0===c?0:c,g=e.id,x=(0,a.useMemo)((function(){return n}),[n]),p=(0,a.useMemo)((function(){return r}),[r]),f=(0,Z.useTable)({columns:x,data:p,initialState:{pageIndex:d,pageSize:o},manualPagination:!0,manualSortBy:!0,pageCount:Math.ceil(s/o)},Z.useSortBy,Z.useExpanded,Z.usePagination),h=f.headerGroups,b=f.page,v=f.prepareRow,y=(f.canPreviousPage,f.canNextPage,f.pageCount,f.gotoPage),j=f.nextPage,S=f.previousPage,B=f.setPageSize,w=f.state,C=w.pageIndex,P=w.pageSize,k=w.sortBy;(0,a.useEffect)((function(){t&&t({sortBy:k,pageIndex:C,pageSize:P})}),[t,k,C,P]);return(0,m.jsxs)(l.Box,{width:"100%",overflowX:"auto",mt:"6",children:[(0,m.jsxs)(l.Box,{my:6,w:"100%",children:[h.map((function(e){return(0,m.jsx)(l.Flex,(0,u.Z)((0,u.Z)({borderTopWidth:1,borderColor:"gray.100"},e.getHeaderGroupProps()),{},{gap:1,children:e.headers.map((function(e,t){return(0,m.jsx)(_,(0,u.Z)({id:"".concat(g,"-table-header-item-").concat(""===e.Header?"action":e.Header),header:e},e.getHeaderProps()))}))}))})),(0,m.jsx)(l.Flex,{flexDirection:"column",children:b.map((function(e){return v(e),(0,m.jsx)(l.Flex,(0,u.Z)((0,u.Z)({direction:"column",flex:1},e.getRowProps()),{},{children:(0,m.jsx)(l.Flex,{borderTopWidth:1,borderColor:"gray.100",py:1,gap:1,children:e.cells.map((function(t){return(0,m.jsx)(O,(0,u.Z)({id:"".concat(g,"-table-row-").concat(e.index),cell:t,isFirstColumn:t.column.id===n[0].accessor},t.getCellProps()))}))})}))}))})]}),(0,m.jsxs)(l.Box,{display:"flex",justifyContent:{base:"center",md:"space-between"},alignItems:"center",my:8,children:[(0,m.jsx)(l.Box,{display:"flex",alignItems:"center",fontWeight:400,children:s>P&&(0,m.jsxs)(l.Flex,{alignItems:"center",display:{base:"none",md:"flex"},children:[(0,m.jsx)(l.Text,{color:"gray.600",mr:2,fontSize:14,children:(0,m.jsx)(i.FormattedMessage,{id:"numberOfRows"})}),[10,20,40].map((function(e){return e<s?(0,m.jsx)(l.Button,{id:"".concat(g,"-table-pagination-page-size-").concat(e),p:0,onClick:function(){return B(e)},variant:"unstyled",_focus:{boxShadow:"none"},display:"flex",alignItems:"center",children:(0,m.jsx)(l.Flex,{backgroundColor:e===P?"orange.500":"transparent",color:e===P?"white":"gray.900",w:8,h:8,justifyContent:"center",alignItems:"center",fontWeight:400,children:(0,m.jsx)(l.Text,{fontSize:14,children:e})})},"page-".concat(e)):null}))]})}),(0,m.jsx)(V,{countData:s,currentPageSize:P,currentPageIndex:C,listPageSize:s&&s>10?[10,20,30]:[10],selectPageIndex:y,selectedListperPage:B,onNextPage:function(){return j()},onPrevPage:function(){return S()}})]})]})},$=[{Header:"aggregateBank.table.bank.title",accessor:"bank",width:"100%"},{Header:"aggregateBank.table.currency.title",accessor:"currency",width:"100%"},{Header:"aggregateBank.table.customerNo.title",accessor:"accountNumber",width:"100%"},{Header:"aggregateBank.table.originalAmount.title",accessor:"balanceOri",disableSortBy:!0,width:"100%"},{Header:"aggregateBank.table.convertBalance.title",accessor:"balanceLocal",disableSortBy:!0,width:"100%"},{Header:"aggregateBank.table.dataDate.title",accessor:"balanceDate",disableSortBy:!0,width:"100%"}],Q=[{Header:"aggregateBank.table.bank.title",accessor:"bank"},{Header:"aggregateBank.table.currency.title",accessor:"currency"},{Header:"aggregateBank.table.customerNo.title",accessor:"accountNumber"},{Header:"aggregateBank.table.originalAmount.title",accessor:"balanceOri"},{Header:"aggregateBank.table.convertBalance.title",accessor:"balanceLocal"},{Header:"aggregateBank.table.dataDate.title",accessor:"balanceDate"}],J=function(e){var t,n,a=e.onSort,o=e.columns,d=e.tableData,c=e.defaultItemPerPage,s=e.defaultPageNumber,g=e.totalPage,x=void 0===g?0:g,p=e.id,f=(0,Z.useTable)({columns:o,data:d,initialState:{pageIndex:s,pageSize:c},manualPagination:!0,manualSortBy:!0,pageCount:Math.ceil(x/c)},Z.useSortBy,Z.useExpanded,Z.usePagination),h=f.headerGroups,b=f.page,v=f.prepareRow,y=(f.canPreviousPage,f.canNextPage,f.pageCount,f.gotoPage),j=f.nextPage,B=f.previousPage,w=f.setPageSize,C=f.state,P=C.pageIndex,k=C.pageSize,I=C.sortBy;r().useEffect((function(){a&&a({sortBy:I,pageIndex:P,pageSize:k})}),[a,I,P,k]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Grid,{templateColumns:"6fr 6fr",borderBottom:"1px",borderBottomColor:"orange.100",pb:"1",mt:"6",children:null===(t=h[0])||void 0===t||null===(n=t.headers)||void 0===n?void 0:n.map((function(e,t){if("bank"===e.id||"accountNumber"===e.id)return(0,m.jsx)(_,(0,u.Z)({id:"".concat(p,"-table-header-item-").concat(""===e.Header?"action":e.Header),header:e},e.getHeaderProps()))}))}),(0,m.jsx)(l.Accordion,{id:"".concat(p,"-accordion"),allowToggle:!0,pointerEvents:"initial",children:0===b.length?(0,m.jsx)(l.Flex,{alignItems:"center",justifyContent:"center",w:"100%",h:"20",children:(0,m.jsx)(l.Text,{fontSize:12,color:"gray.400",fontStyle:"italic",children:"No Data"})}):(0,m.jsx)(m.Fragment,{children:b.map((function(e,t){var n,a;return v(e),(0,m.jsxs)(l.AccordionItem,{id:"".concat(p,"-accordion-item-").concat((0,D.R)(e.values.currency)),borderBottom:"1px",borderTop:"1px",borderBottomColor:"orange.100",borderTopColor:"orange.100",children:[(0,m.jsx)(l.AccordionButton,{id:"".concat(p,"-accordion-item-").concat((0,D.R)(e.values.currency),"-btn"),px:0,py:2,children:(0,m.jsxs)(l.Grid,{textAlign:"left",w:"full",templateColumns:"4fr 4fr",fontSize:14,children:[(0,m.jsx)(l.Flex,{alignItems:"center",children:(0,m.jsx)(l.Text,{children:e.values.bank})}),(0,m.jsxs)(l.Flex,{justifyContent:"space-between",children:[(0,m.jsx)(l.Box,{fontWeight:700,ml:0,children:e.values.accountNumber}),(0,m.jsx)(l.AccordionIcon,{color:"orange.500"})]})]})}),(0,m.jsx)(l.AccordionPanel,{px:0,children:(0,m.jsx)(l.Flex,{flexDirection:"column",children:null===(n=h[0])||void 0===n||null===(a=n.headers)||void 0===a?void 0:a.map((function(t,n){if("bank"!==t.id&&"accountNumber"!==t.id)return(0,m.jsxs)(l.Grid,{textAlign:"left",w:"full",templateColumns:"4fr 4fr",mb:"2",children:[(0,m.jsx)(l.Box,{fontSize:12,color:"gray.500",children:(0,m.jsx)(i.FormattedMessage,{id:t.render("Header")})},n),(0,m.jsx)(l.Box,{fontSize:14,children:"localBalance"===t.id?(0,S.uf)(e.values[t.id]):"percentage"===t.id?"".concat((0,S.VG)(e.values[t.id])," %"):e.values[t.id]})]},n)}))})})]},"".concat(t,"-Accordion"))}))})}),(0,m.jsx)(l.Box,{mb:"4"}),(0,m.jsx)(V,{countData:x,currentPageSize:k,currentPageIndex:P,listPageSize:x&&x>10?[10,20,30]:[10],selectPageIndex:y,selectedListperPage:w,onNextPage:function(){return j()},onPrevPage:function(){return B()}})]})},K=function(){var e,t,n,a,o,d=(0,s.S)((function(e){return e}),p.Z),c=d.selectedCorporate,g=d.selectedBank,x=(0,P.a)((function(e){return e}),p.Z).companyId,f=(0,l.useMediaQuery)("(max-width: 768px)"),h=(0,G.Z)(f,1)[0],v=r().useState([]),y=(0,G.Z)(v,2),j=y[0],B=y[1],w=r().useState(0),C=(0,G.Z)(w,2),k=C[0],I=C[1],F=r().useState(10),Z=(0,G.Z)(F,2),z=Z[0],T=Z[1],D=(o=(0,u.Z)({accountType:"S",corporate:"all"!==c?c:x,page:k,needGetChildCif:"all"===c,sortBy:null!==(e=null===(t=j[0])||void 0===t?void 0:t.id)&&void 0!==e?e:"accountType",direction:null!==(n=j[0])&&void 0!==n&&n.desc?"DESC":null!=="ASC"?"ASC":"DESC"},"All"!==g&&{bank:g}),(0,b.eZ)({path:"dashboardotherbank/detail",method:"GET",params:(0,u.Z)({},o),isReady:!!o.corporate})).data,L=r().useCallback((function(e){var t=e.sortBy,n=e.pageSize,a=e.pageIndex;B(t),I(a),T(n)}),[]),M=r().useMemo((function(){var e;return null===D||void 0===D||null===(e=D.content)||void 0===e?void 0:e.map((function(e){return(0,u.Z)((0,u.Z)({},e),{},{balanceLocal:(0,S.a6)(String(null===e||void 0===e?void 0:e.balanceLocal)),balanceOri:(0,S.a6)(String(null===e||void 0===e?void 0:e.balanceOri)),balanceDate:(0,R.format)(new Date(null===e||void 0===e?void 0:e.balanceDate),"dd-MM-yyyy")})}))}),[D]);return(0,m.jsx)(l.Box,{bg:"white",rounded:"xl",p:6,mt:8,display:"flex",flexDirection:"column",children:null!==D&&void 0!==D&&D.content?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Text,{fontSize:24,fontWeight:"bold",children:(0,m.jsx)(i.FormattedMessage,{id:"aggregateBank.card.detail.title"})}),null!==D&&void 0!==D&&D.content&&(null===D||void 0===D||null===(a=D.content)||void 0===a?void 0:a.length)>0?(0,m.jsx)(m.Fragment,{children:h?(0,m.jsx)(J,{id:"table-saving-detail-mobile",onSort:L,columns:Q,tableData:M,defaultItemPerPage:z,defaultPageNumber:k,totalPage:(null===D||void 0===D?void 0:D.totalRecord)||0}):(0,m.jsx)(q,{id:"table-saving-detail",onSort:L,columns:$,tableData:M,defaultItemPerPage:z,defaultPageNumber:k,totalPage:(null===D||void 0===D?void 0:D.totalRecord)||0})}):(0,m.jsx)(l.Flex,{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"column",minH:"95vh",fontWeight:400,fontSize:16,children:(0,m.jsx)(l.Text,{color:"gray.900",textAlign:"center",my:8,children:"Empty Data"})})]}):(0,m.jsx)(l.Flex,{justifyContent:"center",alignItems:"center",minH:"50vh",children:(0,m.jsx)(l.Spinner,{width:32,height:32})})})},U=function(){var e=(0,i.useIntl)(),t=(0,s.S)((function(e){return e}),p.Z),n=t.setSelectedPeriod,a=t.setSelectedCorporate,d=(0,b.eZ)({path:"dashboardotherbank/corporatelist",method:"GET"}).data,c=(0,b.eZ)({path:"dashboardotherbank/getbank",method:"GET"}).data,u=(0,I.d)().data,g=x((function(e){return e}),p.Z),v=g.addOtherBankCorporateList,y=g.addBankList,j=g.addDashboardPeriod;return r().useEffect((function(){var e,t,r,o;v((null===d||void 0===d?void 0:d.content)||[]),y((null===c||void 0===c?void 0:c.content)||[]),j((null===u||void 0===u?void 0:u.content)||[]),a((null===d||void 0===d||null===(e=d.content)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.id)||""),n((null===u||void 0===u||null===(r=u.content)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.code)||"")}),[d,c,u]),(0,m.jsxs)(l.Box,{p:6,children:[(0,m.jsx)(o.Z,{id:"cashflow-page",title:e.formatMessage({id:"aggregateBank.widget.title"})}),(0,m.jsxs)(l.Flex,{gap:{base:4,lg:8},direction:{base:"column",lg:"row"},children:[(0,m.jsx)(f,{}),(0,m.jsx)(h,{})]}),(0,m.jsx)(k,{}),(0,m.jsx)(E,{}),(0,m.jsx)(K,{})]})},ee=function(){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(U,{})})}},94228:function(e,t,n){n.d(t,{$n:function(){return i},MS:function(){return r},RG:function(){return o}});var a=n(30936),r=function(e){var t=e.corporateId;return(0,a.eZ)({path:"dashboardotherbank/summarybalance/current",method:"POST",body:{corporateId:t,needGetChildCif:!0},isReady:!!t})},o=function(e){var t=e.corporateId;return(0,a.eZ)({path:"dashboardotherbank/summarybalance/saving",method:"POST",body:{corporateId:t,needGetChildCif:!0},isReady:!!t})},i=function(e){var t=e.corporateId,n=e.needGetChildCif,r=void 0===n||n;return(0,a.eZ)({path:"dashboardotherbank/summarybalance/all",method:"POST",body:{corporateId:t,needGetChildCif:r},isReady:!!t})}},90076:function(e,t,n){n.d(t,{d:function(){return r}});var a=n(30936),r=function(){return(0,a.eZ)({path:"dashboardasset/getdashboardperiod"})}},53976:function(e,t,n){n.d(t,{S:function(){return o}});var a=n(1413),r=n(76291),o=n.n(r)()((function(e){return{summaryBalanceWidget:[],selectedCorporate:"",selectedBank:"All",selectedPeriod:"",addSummaryBalanceWidget:function(t){return e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{summaryBalanceWidget:t})}))},resetSummaryBalanceWidget:function(){return e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{summaryBalanceWidget:[]})}))},setSelectedPeriod:function(t){return e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{selectedPeriod:t})}))},setSelectedCorporate:function(t){return e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{selectedCorporate:t})}))},setSelectedBank:function(t){return e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{selectedBank:t})}))}}}))},43015:function(e,t,n){n.d(t,{VG:function(){return r},a6:function(){return o},uf:function(){return a}});var a=function(e){try{if(!e)return"0";var t=Number(e);if("number"===typeof t)return t.toLocaleString()}catch(n){return console.log("Format Number Error"+n),"0"}},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\.00/g;return e.replace(t,"")},o=function(e,t){var n;if(!e&&"0"!==(null===(n=e)||void 0===n?void 0:n.toString()))return"0";e=String(e);var a=function(e,t){var n=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(Number(e)||0).replaceAll("Rp","");return null!==t&&void 0!==t&&t.limited?"".concat(n.slice(0,-3),".."):n},r=String(e);return e.length>=((null===t||void 0===t?void 0:t.maxLimit)||9)&&null!==t&&void 0!==t&&t.limited?a(r=e.slice(0,7),t):a(r)}}}]);