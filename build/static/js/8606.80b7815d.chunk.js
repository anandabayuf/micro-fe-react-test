"use strict";(self.webpackChunkproject_bni_dashboard=self.webpackChunkproject_bni_dashboard||[]).push([[8606],{18787:function(e,t,n){var a=n(34148),o=n(90148),r=(n(46759),n(33438)),i=n(6875),l=n(20538),d=n(46417);i.Chart.register(i.CategoryScale,i.LinearScale,i.PointElement,i.LineElement,i.Title,i.Tooltip,i.Legend);t.Z=function(e){var t,n=e.data,i=(null===n||void 0===n||null===(t=n.datasets)||void 0===t?void 0:t.map((function(e,t){var n;return{datasetIndex:t,text:(null===e||void 0===e?void 0:e.label)||"",fillStyle:null===e||void 0===e||null===(n=e.backgroundColor)||void 0===n?void 0:n.toString()}})))||[];return(0,d.jsxs)(a.Box,{width:"95%",children:[(0,d.jsx)(a.Box,{height:320,children:(0,d.jsx)(r.Line,{options:l.dY,data:n})}),(0,d.jsx)(a.Flex,{flexDir:"row-reverse",mt:4,children:(0,d.jsx)(o.Z,{legend:i})})]})}},31171:function(e,t,n){n(46759);var a=n(34148),o=n(46417);t.Z=function(){return(0,o.jsx)(a.Flex,{justifyContent:"center",alignItems:"center",minH:"50vh",children:(0,o.jsx)(a.Spinner,{width:32,height:32})})}},20538:function(e,t,n){n.d(t,{TT:function(){return l},dY:function(){return i},hZ:function(){return d}});var a=n(43015),o=n(85640),r=n(46417),i={maintainAspectRatio:!1,plugins:{legend:{display:!1,labels:{usePointStyle:!0}},tooltip:{enabled:!1,external:function(e){var t=document.getElementById("tooltip");t||((t=document.createElement("div")).id="tooltip",t.innerHTML="<table></table>",document.body.appendChild(t));var n=e.tooltip;if(0!==n.opacity){if(t.classList.remove("above","below","no-transform"),n.yAlign?t.classList.add(n.yAlign):t.classList.add("no-transform"),n.body){var o="<tbody>",r=n.dataPoints[0].dataset.backgroundColor,i=Number((Number(n.dataPoints[0].raw)/1e6).toFixed(2)),l="background: white";l+="; position : relative",l+="; border-color:"+r,l+="; box-shadow : 0px 8px 16px -8px"+r,l+="; padding : 8px",l+="; border-radius : 8px",l+="; border : 1px solid "+r,l+="; border-width: 2px",l+="; z-index : 2",o+="<tr><td>"+('<span style="'+(l+="; white-space : nowrap;")+' class=""> IDR '+(0,a.a6)(i)+"</span>")+"</td></tr>",o+="</tbody>";var d=t.querySelector("table");d&&(d.innerHTML=o)}var s=e.chart.canvas.getBoundingClientRect();t.style.opacity="1",t.style.position="absolute",t.style.left=s.left+window.pageXOffset+10+n.caretX+"px",t.style.top=s.top+window.pageYOffset-10+n.caretY+"px",t.style.padding=n.padding+"px "+n.padding+"px",t.style.pointerEvents="none"}else t.style.opacity="0"}}},scales:{x:{grid:{display:!1,drawBorder:!1}},y:{grid:{drawBorder:!1,borderDash:[8,4]},ticks:{callback:function(e){return(0,a.a6)(Number(e)/1e6)}}}}},l="ONE_YEAR",d=[{label:(0,r.jsx)(o.FormattedMessage,{id:"multiBankCashFlow.label.in_out"}),value:"IN_OUT"},{label:(0,r.jsx)(o.FormattedMessage,{id:"multiBankCashFlow.label.in"}),value:"IN"},{label:(0,r.jsx)(o.FormattedMessage,{id:"multiBankCashFlow.label.out"}),value:"OUT"}]},19591:function(e,t,n){var a=n(34148),o=n(6875),r=n(46759),i=n(33438),l=n(27303),d=n(43015),s=n(90148),c=n(46417);o.Chart.register(o.CategoryScale,o.LinearScale,o.PointElement,o.LineElement,o.Title,o.Tooltip,o.Legend);t.Z=function(e){var t,n,o=e.labels,u=e.inDatasets,x=void 0===u?[]:u,g=e.outDatasets,p=void 0===g?[]:g,f=e.dataSetsLabel,h=void 0===f?[]:f,m=e.id,b=(0,r.useMemo)((function(){var e,t,n,a;return{labels:o,datasets:[{label:h[0],data:x,backgroundColor:null===(e=l.O.teal)||void 0===e?void 0:e[500],borderColor:null===(t=l.O.teal)||void 0===t?void 0:t[500],pointStyle:"circle",pointRadius:5},{label:h[1],data:p,backgroundColor:null===(n=l.O.orange)||void 0===n?void 0:n[500],borderColor:null===(a=l.O.orange)||void 0===a?void 0:a[500],pointStyle:"circle",pointRadius:5}]}}),[o,x,p,h]),v=(0,r.useRef)(null),j={maintainAspectRatio:!1,plugins:{legend:{display:!1,labels:{usePointStyle:!0}},tooltip:{enabled:!1,external:function(e){var t=document.getElementById("".concat(m,"-tooltip"));t||((t=document.createElement("div")).id="".concat(m,"-tooltip"),t.innerHTML="<table></table>",document.body.appendChild(t));var n=e.tooltip;if(0!==n.opacity){if(t.classList.remove("above","below","no-transform"),n.yAlign?t.classList.add(n.yAlign):t.classList.add("no-transform"),n.body){var a="<tbody>",o=n.dataPoints[0].dataset.backgroundColor,r=Number((Number(n.dataPoints[0].raw)/1e6).toFixed(2)),i="background: white";i+="; position : relative",i+="; border-color:"+o,i+="; box-shadow : 0px 8px 16px -8px"+o,i+="; padding : 8px",i+="; border-radius : 8px",i+="; border : 1px solid "+o,i+="; border-width: 2px",i+="; z-index : 2",a+="<tr><td>"+('<span style="'+(i+="; white-space : nowrap;")+' class=""> IDR '+(0,d.a6)(r)+"</span>")+"</td></tr>",a+="</tbody>";var l=t.querySelector("table");l&&(l.innerHTML=a)}var s=e.chart.canvas.getBoundingClientRect();t.style.opacity="1",t.style.position="absolute",t.style.left=s.left+window.pageXOffset+10+n.caretX+"px",t.style.top=s.top+window.pageYOffset-10+n.caretY+"px",t.style.padding=n.padding+"px "+n.padding+"px",t.style.pointerEvents="none"}else t.style.opacity="0"}}},scales:{x:{grid:{display:!1,drawBorder:!1}},y:{grid:{drawBorder:!1,borderDash:[8,4]},ticks:{callback:function(e){return(0,d.a6)(Number(e)/1e6)}}}}},y=null===v||void 0===v||null===(t=v.current)||void 0===t||null===(n=t.legend)||void 0===n?void 0:n.legendItems;return(0,c.jsxs)(a.Box,{width:"95%",children:[(0,c.jsx)(a.Box,{height:320,children:(0,c.jsx)(i.Line,{options:j,data:b,ref:v})}),(0,c.jsx)(a.Flex,{flexDir:"row-reverse",mt:4,children:(0,c.jsx)(s.Z,{legend:y})})]})}},37005:function(e,t,n){n.d(t,{Z:function(){return M}});var a,o=n(34148),r=n(30936),i=n(79032),l=n(1413),d=n(76291),s=n.n(d)()((function(e){return{latestUpdatedTime:"",listExchangeRate:[],addKursData:function(t){return e((function(e){return(0,l.Z)((0,l.Z)({},e),{},{latestUpdatedTime:t.latestUpdatedTime,listExchangeRate:t.listExchangeRate})}))},resetKursData:function(){return e((function(e){return(0,l.Z)((0,l.Z)({},e),{},{kursData:[]})}))}}})),c=n(43015),u=n(46759),x=n.n(u),g=n(85640),p=n(53189),f=n(10190),h=n(15861),m=n(87757),b=n.n(m),v=n(70885);!function(e){e.SET_INPUT_VALUE="SET_INPUT_VALUE",e.SET_EXCHANGE_RESULT="SET_EXCHANGE_RESULT",e.SET_CURRENCIES="SET_CURRENCIES",e.SWAP_CURRENCIES="SWAP_CURRENCIES",e.UPDATE_DATE="UPDATE_DATE"}(a||(a={}));var j=n(2789),y=function(e){var t=(0,j.parseISO)(e);return(0,j.format)(t,"dd/MM/yyyy HH:mm:ss")},C={inputValue:1,exchangeResult:0,currencies:{},updatedDate:null};function w(e,t){switch(t.type){case a.SET_INPUT_VALUE:return(0,l.Z)((0,l.Z)({},e),{},{inputValue:t.payload});case a.SET_EXCHANGE_RESULT:return(0,l.Z)((0,l.Z)({},e),{},{exchangeResult:t.payload});case a.SET_CURRENCIES:return(0,l.Z)((0,l.Z)({},e),{},{currencies:(0,l.Z)((0,l.Z)({},e.currencies),t.payload)});case a.SWAP_CURRENCIES:return(0,l.Z)((0,l.Z)((0,l.Z)({},e),t.payload),{},{currencies:{current:e.currencies.target,target:e.currencies.current}});case a.UPDATE_DATE:return(0,l.Z)((0,l.Z)({},e),{},{updatedDate:t.payload});default:return e}}var S=function(e){var t=s((function(e){return e}),f.Z),n=t.listExchangeRate,o=x().useReducer(w,(0,l.Z)((0,l.Z)({},C),{},{currencies:e})),r=(0,v.Z)(o,2),i=r[0],d=r[1],c=x().useCallback((function(e){d({type:a.SET_CURRENCIES,payload:(0,l.Z)({},e)})}),[d]),u=function(t){t||(t=i.currencies);var o=t.inputValue||i.inputValue;if("IDR"===t.current||"IDR"===t.target)return function(e,t){var o=n.find((function(t){return"IDR"===e.current?t.currency===e.target:"IDR"===e.target?t.currency===e.current:void 0}));return"IDR"===e.current?d({type:a.SET_EXCHANGE_RESULT,payload:t/((null===o||void 0===o?void 0:o.sellRate)||-1)}):d({type:a.SET_EXCHANGE_RESULT,payload:t*((null===o||void 0===o?void 0:o.buyRate)||-1)})}(t,Number(o));var r=function(t){var a;return(null===(a=n.find((function(e){return e.currency===t})))||void 0===a?void 0:a.buyRate)||e.inputValue||0},l=r(t.current),s=r(t.target);return d({type:a.SET_EXCHANGE_RESULT,payload:Number(o)*(l/s)})};return x().useEffect((function(){if(!(n.length<=0)){var e=i.currencies.target;"IDR"===i.currencies.current&&(e=i.currencies.target),"IDR"===i.currencies.target&&(e=i.currencies.current),d({type:a.UPDATE_DATE,payload:function(e){var t,a=null===(t=n.find((function(t){return t.currency===e})))||void 0===t?void 0:t.updatedDate;return a?y(a):null}(e)})}}),[n,i.currencies]),{currencies:i.currencies,updatedDate:i.updatedDate,exchangeResult:i.exchangeResult,inputValue:i.inputValue,isAvailable:n.length>0||!1,setInputValue:function(e){return d({type:a.SET_INPUT_VALUE,payload:e})},onSetCurrencies:c,swapCurrencies:function(){var e={current:i.currencies.target,target:i.currencies.current};d({type:a.SWAP_CURRENCIES}),u(e)},calculate:u}},E=n(42982),T=n(18374),I=n(46417),k=function(e){var t=e.disabled,n=e.inputClassName,a=e.value,r=e.inputValue,i=e.onSetCurrency,l=e.onSetValue,d=e.exclude,c=(e.type,e.decimalScale),u=s((function(e){return e}),f.Z).listExchangeRate,g=x().useMemo((function(){return["IDR"].concat((0,E.Z)(u.map((function(e){return e.currency})))).filter((function(e){return e!==d}))}),[u,d,a]);return(0,I.jsxs)(o.Flex,{py:2,children:[(0,I.jsx)(o.Select,{value:a,onChange:function(e){i&&i(e.target.value)},w:120,mr:3,children:g.map((function(e,t){return(0,I.jsx)("option",{value:e,children:e},t)}))}),(0,I.jsx)(T.NumericFormat,{value:r,allowNegative:!1,disabled:t,customInput:o.Input,className:n,onValueChange:function(e){l&&l(e.value)},decimalScale:c||0,thousandSeparator:".",decimalSeparator:",",style:{maxWidth:"60%"},backgroundColor:t?"#ddeaed":"",borderColor:"orange.400",isRequired:!0})]})},B=function(){return(0,I.jsx)("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,I.jsx)("path",{d:"M16.0882 19V5.5M16.0882 19L12.1765 15.0625M16.0882 19L20 15.0625M4.91176 15.625V1M4.91176 1L1 4.9375M4.91176 1L8.82353 4.9375",stroke:"#006677",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},R=function(e){var t=e.mutate,n=S({current:"USD",target:"IDR"}),a=n.currencies,r=n.exchangeResult,i=n.inputValue,l=n.updatedDate,d=n.onSetCurrencies,s=n.setInputValue,c=n.swapCurrencies,u=n.calculate,p=(0,g.useIntl)(),f=S({current:a.current,target:a.target}),m=f.currencies,v=f.exchangeResult,j=f.calculate,y=f.isAvailable,C=f.onSetCurrencies;return x().useEffect((function(){C({current:a.current,target:a.target})}),[a]),x().useEffect((function(){y&&j()}),[m,y]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(o.Flex,{alignItems:"center",children:[(0,I.jsxs)(o.Box,{mr:3,children:[(0,I.jsx)(k,{value:a.current,exclude:a.target,inputValue:i,onSetCurrency:function(e){return d({current:e})},onSetValue:function(e){return s(Number(e))},decimalScale:2}),(0,I.jsx)(k,{disabled:!0,type:"text",inputValue:r,inputClassName:"custom-disabled",value:a.target,exclude:a.current,onSetCurrency:function(e){return d({target:e})},decimalScale:4})]}),(0,I.jsx)(o.Box,{children:(0,I.jsx)(o.Button,{type:"button",bgColor:"white",border:"2px solid",borderColor:"orange.200",onClick:(0,h.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,t().finally((function(){c()}));case 3:case"end":return e.stop()}}),e)}))),children:(0,I.jsx)(B,{})})})]}),(0,I.jsx)(o.Box,{children:(0,I.jsx)(o.Button,{onClick:(0,h.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,t().finally((function(){u()}));case 3:case"end":return e.stop()}}),e)}))),mt:5,children:p.formatMessage({id:"count"})})}),(0,I.jsx)(o.Box,{mt:5,children:(0,I.jsxs)(o.Flex,{fontSize:11,children:[v&&"".concat(p.formatMessage({id:"exchangeRate"}),": ").concat(a.current," 1 = ").concat(a.target,"\n          ").concat((null===v||void 0===v?void 0:v.toLocaleString("id-ID",{maximumFractionDigits:4}))||0," "),l&&"".concat(p.formatMessage({id:"lastUpdate"}),": ").concat(l," WIB.")]})})]})},M=function(e){var t,n,a,l,d=e.isHomepage,u=(0,g.useIntl)(),h=(0,r.eZ)({path:"dashboardother/getexchangerate",isReady:!0,method:i.Ik.GET}),m=h.data,b=h.mutate,v=(0,r.eZ)({path:"dashboardother/exchangeratedashboard",isReady:!0,method:i.Ik.GET}).data,j=s((function(e){return e}),f.Z),C=j.addKursData,w=j.resetKursData,S=j.listExchangeRate;x().useEffect((function(){if(v&&v.content){if(void 0===(null===m||void 0===m?void 0:m.content))return w();for(var e=m.content.listExchangeRate,t="",n=0;n<v.content.length;n++){t=v.content[n].currency;var a=m.content.listExchangeRate.find((function(e){return e.currency===t}));m.content.listExchangeRate.find((function(e){return e.currency===t})),a&&(a.icon=v.content[n].icon)}return C({latestUpdatedTime:m.content.latestUpdatedTime,listExchangeRate:e})}}),[m,v]);var E=S||[],T=x().useMemo((function(){return[{accessor:"currency",Header:"currency"},{accessor:"buy",Header:"buy"},{accessor:"sell",Header:"sell"}]}),[]),k=x().useMemo((function(){return null===E||void 0===E?void 0:E.map((function(e){return{currency:e.currency,buy:e.buyRate,sell:e.sellRate,icon:e.icon}}))}),[S,v]),B=(0,p.useTable)({columns:T,data:k}),M=B.headerGroups,D=B.rows;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(o.Text,{color:"orange.500",fontWeight:"bold",fontSize:"md",marginBottom:5,children:"TT Counter"}),(0,I.jsx)(o.Grid,{templateColumns:"1fr 1fr 1fr",borderBottom:"1px",borderBottomColor:"orange.100",pb:1,children:null===(t=M[0])||void 0===t||null===(n=t.headers)||void 0===n?void 0:n.map((function(e,t){return(0,I.jsx)(o.Box,{fontSize:12,color:"gray.500",children:u.formatMessage({id:e.render("Header")})},t)}))}),(0,I.jsx)(o.Grid,{textAlign:"left",w:"full",templateColumns:"1fr 1fr 1fr",maxH:200,overflow:"scroll",fontSize:14,children:D.map((function(e,t){var n,a;return(0,I.jsxs)(x().Fragment,{children:[(0,I.jsxs)(o.Flex,{alignItems:"left",borderBottom:"1px",borderTop:"1px",borderBottomColor:"orange.100",borderTopColor:"orange.100",children:[(0,I.jsx)(o.Box,{width:"14px",height:"14px",rounded:"full",display:"block",textAlign:"left"}),(0,I.jsxs)(o.Flex,{alignItems:"center",width:"60px",justifyContent:"space-between",children:[(0,I.jsx)(o.Box,{marginRight:"10px",children:e.original.currency}),e.original.icon?(0,I.jsx)(o.Image,{w:18,h:13,src:"data:image/png;base64,"+e.original.icon}):null]})]}),(0,I.jsx)(o.Flex,{justifyContent:"space-between",borderBottom:"1px",py:"8px",borderTop:"1px",borderBottomColor:"orange.100",borderTopColor:"orange.100",children:(0,I.jsx)(o.Box,{fontWeight:700,children:(0,c.a6)(null===e||void 0===e||null===(n=e.original)||void 0===n?void 0:n.buy,{limited:!0})})}),(0,I.jsx)(o.Flex,{justifyContent:"space-between",borderBottom:"1px",py:"8px",borderTop:"1px",borderBottomColor:"orange.100",borderTopColor:"orange.100",children:(0,I.jsx)(o.Box,{fontWeight:700,children:(0,c.a6)(null===e||void 0===e||null===(a=e.original)||void 0===a?void 0:a.sell,{limited:!0})})})]},t)}))}),(0,I.jsxs)(o.Grid,{mt:5,children:[(0,I.jsx)(o.Flex,{fontSize:12,color:"#4d4d4d",children:u.formatMessage({id:"lastUpdate"})}),(0,I.jsxs)(o.Flex,{fontSize:14,children:[(null===m||void 0===m||null===(a=m.content)||void 0===a?void 0:a.latestUpdatedTime)&&y(null===m||void 0===m||null===(l=m.content)||void 0===l?void 0:l.latestUpdatedTime)," ","WIB."]})]}),d?(0,I.jsx)(o.Box,{mt:5,children:(0,I.jsx)(R,{mutate:b})}):null]})}},68606:function(e,t,n){n.r(t),n.d(t,{default:function(){return te}});var a=n(42982),o=n(70885),r=n(34148),i=n(22554),l=n(46759),d=n.n(l),s=n(32916),c=n(3394),u=n(85640),x=n(65589),g=n(57864),p=n(30936),f=n(79032),h="widgetmanagement",m="widgetmanagement/default",b=n(1896),v=n(46417),j=function(e){var t,n=e.addWidget,a=e.checkSelectWidget,o=e.handleSelectWidget,i=e.isOpen,l=e.onClose,d=e.id,c=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,p.eZ)({path:m,method:f.Ik.GET,isReady:e})}(),x=c.data;return c.isLoading&&x?null:(0,v.jsxs)(r.Modal,{id:"".concat(d,"-add-widget-modal"),isOpen:i,onClose:l,size:"xs",isCentered:!0,children:[(0,v.jsx)(r.ModalOverlay,{}),(0,v.jsxs)(r.ModalContent,{maxH:"70vh",children:[(0,v.jsx)(r.ModalHeader,{children:(0,v.jsx)(u.FormattedMessage,{id:"addWidget"})}),(0,v.jsx)(r.ModalCloseButton,{id:"".concat(d,"-add-widget-modal-close-btn")}),(0,v.jsxs)(r.ModalBody,{overflow:"scroll",overflowX:"hidden",children:[(0,v.jsx)(r.Text,{children:(0,v.jsx)(u.FormattedMessage,{id:"addWidgetNote"})}),(0,v.jsx)(r.Flex,{mt:6,gap:4,flexDir:"column",children:null===x||void 0===x||null===(t=x.content)||void 0===t?void 0:t.map((function(e){return(0,v.jsxs)(r.Flex,{flexDir:"row",alignItems:"center",justify:"space-between",rounded:"md",border:1,borderStyle:"solid",borderColor:"orange.100",p:4,children:[(0,v.jsx)(r.Text,{fontWeight:600,children:(0,v.jsx)(u.FormattedMessage,{id:e.name})}),(0,v.jsx)(r.IconButton,{id:"".concat(d,"-add-widget-modal-select-widget-check-").concat((0,b.I)(e.name)),size:"sm",rounded:"full",variant:a(e)?"solid":"outline",onClick:o(e),"aria-label":"Add-widget",children:a(e)?(0,v.jsx)(s.UgA,{}):""})]},e.id)}))})]}),(0,v.jsxs)(r.ModalFooter,{flexDir:"column",gap:4,children:[(0,v.jsx)(r.Button,{id:"".concat(d,"-add-widget-modal-add-btn"),onClick:n,w:"full",children:(0,v.jsx)(u.FormattedMessage,{id:"add"})}),(0,v.jsx)(r.Button,{id:"".concat(d,"-add-widget-modal-cancel-btn"),variant:"outline",onClick:l,w:"full",children:(0,v.jsx)(u.FormattedMessage,{id:"cancel"})})]})]})]})},y=n(67630),C=function(e){var t=e.openSuccess,n=e.onCloseSuccess,a=e.id;return(0,v.jsxs)(r.Modal,{id:"".concat(a,"-success-modal"),isOpen:t,onClose:n,size:"xs",isCentered:!0,children:[(0,v.jsx)(r.ModalOverlay,{}),(0,v.jsxs)(r.ModalContent,{children:[(0,v.jsx)(r.ModalBody,{children:(0,v.jsxs)(r.Flex,{flexDir:"column",gap:2,alignItems:"center",children:[(0,v.jsx)(r.Image,{src:"./".concat(y.ur,"/images/icons/success.png")}),(0,v.jsx)(r.Text,{fontWeight:700,fontSize:21,children:(0,v.jsx)(u.FormattedMessage,{id:"saveSetting"})})]})}),(0,v.jsx)(r.ModalFooter,{flexDir:"column",gap:4,children:(0,v.jsx)(r.Button,{id:"".concat(a,"-success-modal-ok-btn"),onClick:n,w:"full",children:"OK"})})]})]})},w=n(9721),S=function(e){var t=e.id,n=(0,r.useDisclosure)(),i=n.isOpen,d=n.onOpen,c=n.onClose,x=(0,r.useDisclosure)(),p=x.isOpen,f=x.onOpen,h=x.onClose,m=(0,w.F)(),b=m.listWidget,y=m.setWidgetList,S=m.setModified,E=(0,l.useState)(b),T=(0,o.Z)(E,2),I=T[0],k=T[1];(0,l.useEffect)((function(){k(b)}),[b,i]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r.Box,{width:"full",rounded:"xl",bg:"white",mb:8,boxShadow:"sm",children:(0,v.jsxs)(r.Flex,{p:8,alignItems:"center",justify:"space-between",children:[(0,v.jsxs)(r.Flex,{flexDir:"column",gap:6,children:[(0,v.jsxs)(r.Flex,{flexDir:"row",alignItems:"center",gap:4,children:[(0,v.jsx)(g.T2l,{size:28,color:"#E55300"}),(0,v.jsx)("p",{children:(0,v.jsx)(u.FormattedMessage,{id:"drag"})})]}),(0,v.jsxs)(r.Flex,{flexDir:"row",alignItems:"center",gap:4,children:[(0,v.jsx)(g.p3W,{size:28,color:"#E55300"}),(0,v.jsx)("p",{children:(0,v.jsx)(u.FormattedMessage,{id:"hideNote"})})]})]}),(0,v.jsx)(r.Button,{id:"".concat(t,"-add-widget-btn"),variant:"outline",onClick:d,leftIcon:(0,v.jsx)(s.OvN,{color:"grey"}),children:(0,v.jsx)(u.FormattedMessage,{id:"addWidget"})})]})}),(0,v.jsx)(j,{id:t,addWidget:function(){S(!0),y(I),c(),f()},checkSelectWidget:function(e){return I.find((function(t){return t.id===e.id}))},handleSelectWidget:function(e){return function(){if(I.includes(e)){var t=I.filter((function(t){return t.id!==e.id}));k(t)}else k([].concat((0,a.Z)(I),[e]))}},isOpen:i,onClose:c}),(0,v.jsx)(C,{id:"".concat(t,"-add-widget"),openSuccess:p,onCloseSuccess:h})]})},E=function(e){var t=e.isOpen,n=e.onClose,a=e.removeWidget,o=e.selectWidget,i=e.id,l=(0,r.useDisclosure)(),d=l.isOpen,s=l.onOpen,c=l.onClose;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(r.Modal,{id:"".concat(i,"-hide-widget-modal"),isOpen:t,onClose:n,size:"xs",isCentered:!0,children:[(0,v.jsx)(r.ModalOverlay,{}),(0,v.jsxs)(r.ModalContent,{children:[(0,v.jsx)(r.ModalHeader,{children:(0,v.jsx)(u.FormattedMessage,{id:"hideWidget"})}),(0,v.jsx)(r.ModalCloseButton,{id:"".concat(i,"-hide-widget-modal-close-btn")}),(0,v.jsxs)(r.ModalBody,{children:[(0,v.jsx)(r.Text,{children:(0,v.jsx)(u.FormattedMessage,{id:"hideConfirmation"})}),(0,v.jsxs)(r.Box,{bg:"white",border:"1px",rounded:"md",mt:4,borderColor:"orange.100",borderStyle:"solid",p:3,children:[(0,v.jsx)(r.Text,{fontWeight:700,mb:2,children:(0,v.jsx)(u.FormattedMessage,{id:null===o||void 0===o?void 0:o.name})}),(0,v.jsx)(r.Text,{fontSize:14,children:null===o||void 0===o?void 0:o.desc})]})]}),(0,v.jsxs)(r.ModalFooter,{flexDir:"column",gap:4,children:[(0,v.jsx)(r.Button,{id:"".concat(i,"-hide-widget-modal-hide-btn"),variant:"outline",onClick:function(){s(),a()},w:"full",children:(0,v.jsx)(u.FormattedMessage,{id:"hide"})}),(0,v.jsx)(r.Button,{id:"".concat(i,"-hide-widget-modal-cancel-btn"),variant:"outline",onClick:n,w:"full",children:(0,v.jsx)(u.FormattedMessage,{id:"cancel"})})]})]})]}),(0,v.jsx)(C,{id:"".concat(i,"-hide-widget"),openSuccess:d,onCloseSuccess:c})]})},T=n(90560),I=n(28828),k=n.n(I),B=n(19577),R=n(49924),M=n(19591),D=function(e){var t=e.id,n=(0,R.p)({cifNo:null,period:"ONE_WEEK",balanceInOutType:"IN_OUT",needGetChildCif:!0}).data,a=d().useMemo((function(){var e=null===n||void 0===n?void 0:n.content;return{labels:null===e||void 0===e?void 0:e.map((function(e){return e.barName})),inDatasets:null===e||void 0===e?void 0:e.map((function(e){return e.balanceIn})),outDatasets:null===e||void 0===e?void 0:e.map((function(e){return e.balanceOut}))}}),[n]);return(0,v.jsx)(r.Box,{children:(0,v.jsx)(M.Z,{id:"".concat(t,"-cashflow-trend-chart"),labels:a.labels,dataSetsLabel:["CashIn","CashOut"],inDatasets:a.inDatasets,outDatasets:a.outDatasets})})},F=n(37005),Z=n(18759),W=n(12271),_=n(54607),N=n(27303),L=n(18787),O=n(31171),A=n(32231),U=function(){var e=(0,_.b)().locale,t=(0,A.a)().companyId,n=(0,W.d)({corporate:t||"",period:"ONE_WEEK",needGetChildCif:!0}),a=n.data,o=n.isLoading,r=d().useMemo((function(){var e,t,n,o,r,i,l;return{labels:null===a||void 0===a||null===(e=a.content)||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.barName})),datasets:[{label:"multiBankCashFlow.label.cashIn",data:(null===a||void 0===a||null===(t=a.content)||void 0===t?void 0:t.map((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Debit})))||[],backgroundColor:null===(n=N.O.teal)||void 0===n?void 0:n[500],borderColor:null===(o=N.O.teal)||void 0===o?void 0:o[500],pointStyle:"circle",pointRadius:5},{label:"multiBankCashFlow.label.cashOut",data:(null===a||void 0===a||null===(r=a.content)||void 0===r?void 0:r.map((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Credit})))||[],backgroundColor:null===(i=N.O.orange)||void 0===i?void 0:i[500],borderColor:null===(l=N.O.orange)||void 0===l?void 0:l[500],pointStyle:"circle",pointRadius:5}]}}),[e,a]);return o?(0,v.jsx)(O.Z,{}):(0,v.jsx)(L.Z,{data:r})},H=n(33438),P=n(6875),G=n(10190),V=n(43015),z=n(53976);P.Chart.register(P.ArcElement,P.Tooltip,P.Legend,P.Title);var X=function(e){var t=e.id,n=(0,z.S)((function(e){return e}),G.Z).summaryBalanceWidget,a={labels:null===n||void 0===n?void 0:n.map((function(e){return e.label})),datasets:[{data:null===n||void 0===n?void 0:n.map((function(e){var t=e.balanceLocal;return Number(t)})),backgroundColor:n.map((function(e){return e.backgroundColor}))}]},o=d().useMemo((function(){var e=0;return null===n||void 0===n||n.forEach((function(t){var n=t.balanceLocal;return e+=Number(n)||0})),e}),[n]);return(0,v.jsx)(r.Box,{maxW:{base:125,md:150,lg:200},maxH:{base:125,md:150,lg:200},display:"flex",justifyContent:"center",children:0===n.length?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(r.Flex,{alignItems:"center",justifyContent:"center",w:"100%",h:"20",children:(0,v.jsx)(r.Text,{fontSize:12,color:"gray.400",fontStyle:"italic",children:"No Data"})})}):(0,v.jsx)(H.Doughnut,{data:a,options:{elements:{arc:{borderWidth:0}},plugins:{legend:{display:!1},tooltip:{enabled:!1,external:function(e){var a=document.getElementById("".concat(t,"-tooltip"));a||((a=document.createElement("div")).id="".concat(t,"-tooltip"),a.innerHTML="<table></table>",document.body.appendChild(a));var r=e.tooltip;if(0!==r.opacity){if(a.classList.remove("above","below","no-transform"),r.yAlign?a.classList.add(r.yAlign):a.classList.add("no-transform"),r.body){var i,l="<tbody>",d=r.dataPoints[0].dataIndex,s=r.dataPoints[0].dataset.backgroundColor[d],c=r.dataPoints[0].label,u=Number(r.dataPoints[0].raw),x=parseFloat((u/o*100).toFixed(1)),g=String(null===(i=n[d])||void 0===i?void 0:i.balanceLocal),p="background: white";p+="; position : relative",p+="; padding : 8px 16px",p+="; border-radius : 8px",p+="; border-color : "+s,p+="; border-width: 1px",p+="; z-index : 2",l+='<tr>\n                      <td>\n                        <div style="'.concat(p+="; white-space : nowrap;",'" class="">\n                          <span style="color: ').concat(s,';font-weight:bold">').concat(c,'</span><br/>\n                          <span style="font-weight:bold">').concat((0,V.a6)(g),"</span><br/>\n                          <span>").concat(x," %</span>\n                        </div>\n                      </td>\n                    </tr>");var f=a.querySelector("table");f&&(f.innerHTML=l)}var h=e.chart.canvas.getBoundingClientRect();a.style.opacity="1",a.style.position="absolute",a.style.left=h.left+window.pageXOffset+r.caretX+"px",a.style.top=h.top+window.pageYOffset-40+r.caretY+"px",a.style.padding=r.padding+"px "+r.padding+"px",a.style.pointerEvents="none"}else a.style.opacity="0"}}}}})})},Y=function(){var e=(0,z.S)((function(e){return e}),G.Z).summaryBalanceWidget;return(0,v.jsx)(r.VStack,{gap:2,width:"100%",children:e.map((function(e,t){var n=e.backgroundColor,a=e.balanceLocal,o=e.label;return(0,v.jsxs)(r.HStack,{gap:2,width:"100%",children:[(0,v.jsx)(r.Box,{h:8,w:8,backgroundColor:n,borderRadius:"50%"}),(0,v.jsxs)(r.Stack,{spacing:0,children:[(0,v.jsxs)(r.Text,{fontWeight:"bold",children:["Rp. ",(0,V.a6)(String(a))]}),(0,v.jsx)(r.Text,{children:o})]})]},t)}))})},K=n(94228),q=function(){var e=(0,u.useIntl)(),t=(0,A.a)().companyId,n=(0,r.useMediaQuery)("(min-width: 1150px)"),a=(0,o.Z)(n,1)[0],i=(0,K.MS)({corporateId:t}).data,l=(0,K.RG)({corporateId:t}).data,s=(0,z.S)((function(e){return e}),G.Z),c=s.addSummaryBalanceWidget,x=s.resetSummaryBalanceWidget;return d().useEffect((function(){var t,n,a,o;if(null===i||void 0===i||!i.content||null===l||void 0===l||!l.content)return x();var r=[{label:e.formatMessage({id:"aggregateBank.label.current"}),balanceLocal:null===i||void 0===i||null===(t=i.content)||void 0===t?void 0:t.balanceLocal,backgroundColor:null===(n=N.O.orange)||void 0===n?void 0:n[500]},{label:e.formatMessage({id:"aggregateBank.label.saving"}),balanceLocal:null===l||void 0===l||null===(a=l.content)||void 0===a?void 0:a.balanceLocal,backgroundColor:null===(o=N.O.teal)||void 0===o?void 0:o[500]}];c(r)}),[i,l]),(0,v.jsx)("div",{children:(0,v.jsxs)(r.Box,{bg:"white",rounded:"xl",py:6,width:"100%",display:"flex",flexDirection:a?"row":"column",alignItems:"center",gap:8,children:[(0,v.jsx)(X,{}),(0,v.jsx)(Y,{})]})})},J={WIDGET_UPCOMING_EVENTS:{title:"UpcomingEvents",subTitle:null,href:"/calendar",subtitle:"agendaSubtitle",component:(0,v.jsx)(k(),{componentId:"dashboard-calendar-event-widget",isWidget:!0})},WIDGET_SIMPANAN:{title:"Deposit",subTitle:null,href:"/deposit",subtitle:"depositSubtitle",component:(0,v.jsx)(B.Z,{id:"dashboard-deposit-widget",cifNo:null,isHomepage:!0})},WIDGET_PINJAMAN:{title:"Loan",subTitle:null,href:"/loan",subtitle:"loanSubtitle",component:(0,v.jsx)(Z.Z,{id:"dashboard-loan-widget",cifNo:null,isHomepage:!0})},WIDGET_TREN_ARUS_KAS:{title:"TrendCashFlow",subTitle:null,subtitle:"TrendCashFlowSubtitle",href:"/cashflow",component:(0,v.jsx)(D,{id:"dashboard-cashflow-trend-widget"})},WIDGET_EXCHANGE_RATE:{title:"exchangeRate",subTitle:"",subtitle:"kursSubtitle",href:"/kurs",hasSeeMore:!1,component:(0,v.jsx)(F.Z,{isHomepage:!0})},WIDGET_AGGREGATE_BALANCE:{title:"aggregateBank.widget.title",subTitle:null,subtitle:"aggregateBank.widget.subtitle",href:"/aggregate-bank",component:(0,v.jsx)(q,{})},WIDGET_MULTI_CASHFLOW:{title:"multiBankCashFlow.page.title",subTitle:"",subtitle:"multiBankCashFlow.card.subtitle.cashFlowTrend",href:"/multi-bank-cash-flow",component:(0,v.jsx)(U,{})}},Q=(0,x.SortableHandle)((function(e){var t=e.id;return(0,v.jsx)(r.Box,{id:t,cursor:"grab",children:(0,v.jsx)(g.T2l,{size:28,color:"#E55300"})})})),$=(0,x.SortableElement)((function(e){var t=e.value,n=e.edit,a=e.selectWidget,o=e.id,i=(0,u.useIntl)(),l=J[t.id];return null==(null===l||void 0===l?void 0:l.title)||null==(null===l||void 0===l?void 0:l.href)?(0,v.jsx)(r.Box,{children:null===l||void 0===l?void 0:l.component},null===t||void 0===t?void 0:t.id):(0,v.jsx)(T.Z,{id:"".concat(o,"-sortable-widget"),subtitle:l.subtitle?l.subtitle:"",title:i.formatMessage({id:l.title}),href:n?void 0:l.href,hasSeeMore:l.hasSeeMore,dndComponent:n&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Q,{id:"".concat(o,"-sortable-widget-drag-btn")}),(0,v.jsx)(r.Button,{id:"".concat(o,"-sortable-widget-hide-btn"),variant:"ghost",onClick:a(t),children:(0,v.jsx)(g.p3W,{size:28,color:"#E55300"})})]}),children:null===l||void 0===l?void 0:l.component},t.id)})),ee=function(e){return(0,p.S0)("widgetmanagement","POST","",e)},te=function(){var e,t,n,d=(0,w.F)(),g=d.listWidget,m=d.setWidgetList,j=d.setOldListWidget,y=d.modified,T=d.setModified,I=(0,A.a)().user,k=(0,r.useDisclosure)(),B=k.isOpen,R=k.onOpen,M=k.onClose,D=(0,l.useState)(!1),F=(0,o.Z)(D,2),Z=F[0],W=F[1],_=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,p.eZ)({path:h,method:f.Ik.GET,isReady:e})}(),N=_.data,L=_.mutate,O=(0,l.useState)(null),U=(0,o.Z)(O,2),H=U[0],P=U[1],G=(0,r.useDisclosure)(),V=G.isOpen,z=G.onOpen,X=G.onClose,Y=function(e){return function(){R(),P(e)}},K=(0,x.SortableContainer)((function(){var e;return(0,v.jsx)(r.SimpleGrid,{columns:{base:1,lg:2},gap:6,_active:{cursor:"grabbing"},children:Z?g.map((function(e,t){return(0,v.jsx)($,{id:"dashboard-widget-list-item-".concat((0,b.I)(e.name)),index:t,selectWidget:Y,value:e,edit:Z},"".concat(e.id))})):null===(e=(0,a.Z)((null===N||void 0===N?void 0:N.content)||[]))||void 0===e?void 0:e.map((function(e,t){return(0,v.jsx)($,{id:"dashboard-widget-list-item-".concat((0,b.I)(e.name)),index:t,selectWidget:Y,value:e,edit:Z},"".concat(e.id))}))})}));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(r.Container,{maxW:"full",pt:{base:"7",md:"10"},px:{base:5,md:12},children:[(0,v.jsx)(r.Box,{mb:6,children:(0,v.jsxs)(r.Flex,{flexDir:"row",justifyContent:"space-between",children:[(0,v.jsxs)(r.HStack,{children:[(0,v.jsx)(r.Flex,{background:"teal.500",width:42,height:42,borderRadius:100,justifyContent:"center",alignItems:"center",children:(0,v.jsx)(r.Icon,{as:s.aCJ,color:"white"})}),(0,v.jsx)(r.Heading,{fontSize:"2xl",children:"Dashboard"})]}),Z?(0,v.jsxs)(r.Flex,{gap:6,children:[(0,v.jsx)(r.Button,{id:"dashboard-adjust-widget-back-to-dashboard-btn",variant:"outline",onClick:function(){y&&L(),T(!1),W(!1),j([]),X()},w:{base:"full",md:"44"},children:(0,v.jsx)(u.FormattedMessage,{id:"backDashboard"})}),(0,v.jsx)(r.Button,{id:"dashboard-adjust-widget-save-settings-btn",variant:"solid",onClick:function(){T(!1),ee({features:g}).then((function(){L(),z()}))},disabled:!y,_disabled:{bg:"gray.400"},w:{base:"full",md:"44"},children:(0,v.jsx)(u.FormattedMessage,{id:"saveSettings"})})]}):(null===I||void 0===I||null===(e=I.permissions)||void 0===e?void 0:e.includes("MNU_CUST_HUB_DASHBOARD"))&&(0,v.jsx)(r.Button,{id:"dashboard-adjust-widget-btn",variant:"outline",onClick:function(){m((null===N||void 0===N?void 0:N.content)||[]),j((null===N||void 0===N?void 0:N.content)||[]),W(!Z)},leftIcon:(0,v.jsx)(s.IYd,{color:"grey"}),children:(0,v.jsx)(u.FormattedMessage,{id:"adjustWidget"})})]})}),Z&&(0,v.jsx)(S,{id:"dashboard-adjust-widget"})]}),(null===I||void 0===I||null===(t=I.permissions)||void 0===t?void 0:t.includes("MNU_CUST_HUB_DASHBOARD"))&&(0,v.jsx)(r.Container,{maxW:"full",px:{base:0,md:12},pb:24,position:"relative",children:null!==N&&void 0!==N&&null!==(n=N.content)&&void 0!==n&&n.length||Z?(0,v.jsx)(K,{onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex;if(g){var a=(0,i.arrayMoveImmutable)(g,t,n);m(a),T(!0)}},axis:"xy",useDragHandle:!0}):(0,v.jsxs)(r.Flex,{w:"full",textAlign:"center",alignItems:"center",gap:4,mt:{base:10,md:"52"},flexDir:"column",children:[(0,v.jsx)(c.zrF,{size:50,color:"#E55300"}),(0,v.jsx)(r.Text,{w:{base:"full",md:"sm"},children:"Belum ada widget yang ditambahkan. Mohon tambahkan minimal satu widget untuk menyimpan pengaturan."})]})}),(0,v.jsx)(E,{id:"dashboard-adjust-widget",isOpen:B,onClose:M,removeWidget:function(){if(T(!0),g){var e=g.filter((function(e){return e.id!==(null===H||void 0===H?void 0:H.id)}))||[];m(e),M()}},selectWidget:H}),(0,v.jsx)(C,{id:"dashboard-adjust-widget",openSuccess:V,onCloseSuccess:X})]})}},94228:function(e,t,n){n.d(t,{$n:function(){return i},MS:function(){return o},RG:function(){return r}});var a=n(30936),o=function(e){var t=e.corporateId;return(0,a.eZ)({path:"dashboardotherbank/summarybalance/current",method:"POST",body:{corporateId:t,needGetChildCif:!0},isReady:!!t})},r=function(e){var t=e.corporateId;return(0,a.eZ)({path:"dashboardotherbank/summarybalance/saving",method:"POST",body:{corporateId:t,needGetChildCif:!0},isReady:!!t})},i=function(e){var t=e.corporateId,n=e.needGetChildCif,o=void 0===n||n;return(0,a.eZ)({path:"dashboardotherbank/summarybalance/all",method:"POST",body:{corporateId:t,needGetChildCif:o},isReady:!!t})}},49924:function(e,t,n){n.d(t,{p:function(){return r}});var a=n(30936),o=n(79032),r=function(e){return(0,a.eZ)({path:"dashboardcashflow/cashflow",method:o.Ik.POST,body:e})}},12271:function(e,t,n){n.d(t,{d:function(){return r}});var a=n(30936),o=n(79032),r=function(e){return(0,a.eZ)({path:"dashboarotherbanktransaction/getdebitcredit",method:o.Ik.POST,body:e,refreshInterval:1e3})}},53976:function(e,t,n){n.d(t,{S:function(){return r}});var a=n(1413),o=n(76291),r=n.n(o)()((function(e){return{summaryBalanceWidget:[],selectedCorporate:"",selectedBank:"All",selectedPeriod:"",addSummaryBalanceWidget:function(t){return e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{summaryBalanceWidget:t})}))},resetSummaryBalanceWidget:function(){return e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{summaryBalanceWidget:[]})}))},setSelectedPeriod:function(t){return e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{selectedPeriod:t})}))},setSelectedCorporate:function(t){return e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{selectedCorporate:t})}))},setSelectedBank:function(t){return e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{selectedBank:t})}))}}}))}}]);