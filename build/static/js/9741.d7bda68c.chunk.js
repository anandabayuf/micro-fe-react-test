"use strict";(self.webpackChunkproject_bni_dashboard=self.webpackChunkproject_bni_dashboard||[]).push([[9741],{18787:function(e,t,n){var i=n(34148),a=n(90148),l=(n(46759),n(33438)),o=n(6875),r=n(20538),d=n(46417);o.Chart.register(o.CategoryScale,o.LinearScale,o.PointElement,o.LineElement,o.Title,o.Tooltip,o.Legend);t.Z=function(e){var t,n=e.data,o=(null===n||void 0===n||null===(t=n.datasets)||void 0===t?void 0:t.map((function(e,t){var n;return{datasetIndex:t,text:(null===e||void 0===e?void 0:e.label)||"",fillStyle:null===e||void 0===e||null===(n=e.backgroundColor)||void 0===n?void 0:n.toString()}})))||[];return(0,d.jsxs)(i.Box,{width:"95%",children:[(0,d.jsx)(i.Box,{height:320,children:(0,d.jsx)(l.Line,{options:r.dY,data:n})}),(0,d.jsx)(i.Flex,{flexDir:"row-reverse",mt:4,children:(0,d.jsx)(a.Z,{legend:o})})]})}},31171:function(e,t,n){n(46759);var i=n(34148),a=n(46417);t.Z=function(){return(0,a.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",minH:"50vh",children:(0,a.jsx)(i.Spinner,{width:32,height:32})})}},20538:function(e,t,n){n.d(t,{TT:function(){return r},dY:function(){return o},hZ:function(){return d}});var i=n(43015),a=n(85640),l=n(46417),o={maintainAspectRatio:!1,plugins:{legend:{display:!1,labels:{usePointStyle:!0}},tooltip:{enabled:!1,external:function(e){var t=document.getElementById("tooltip");t||((t=document.createElement("div")).id="tooltip",t.innerHTML="<table></table>",document.body.appendChild(t));var n=e.tooltip;if(0!==n.opacity){if(t.classList.remove("above","below","no-transform"),n.yAlign?t.classList.add(n.yAlign):t.classList.add("no-transform"),n.body){var a="<tbody>",l=n.dataPoints[0].dataset.backgroundColor,o=Number((Number(n.dataPoints[0].raw)/1e6).toFixed(2)),r="background: white";r+="; position : relative",r+="; border-color:"+l,r+="; box-shadow : 0px 8px 16px -8px"+l,r+="; padding : 8px",r+="; border-radius : 8px",r+="; border : 1px solid "+l,r+="; border-width: 2px",r+="; z-index : 2",a+="<tr><td>"+('<span style="'+(r+="; white-space : nowrap;")+' class=""> IDR '+(0,i.a6)(o)+"</span>")+"</td></tr>",a+="</tbody>";var d=t.querySelector("table");d&&(d.innerHTML=a)}var s=e.chart.canvas.getBoundingClientRect();t.style.opacity="1",t.style.position="absolute",t.style.left=s.left+window.pageXOffset+10+n.caretX+"px",t.style.top=s.top+window.pageYOffset-10+n.caretY+"px",t.style.padding=n.padding+"px "+n.padding+"px",t.style.pointerEvents="none"}else t.style.opacity="0"}}},scales:{x:{grid:{display:!1,drawBorder:!1}},y:{grid:{drawBorder:!1,borderDash:[8,4]},ticks:{callback:function(e){return(0,i.a6)(Number(e)/1e6)}}}}},r="ONE_YEAR",d=[{label:(0,l.jsx)(a.FormattedMessage,{id:"multiBankCashFlow.label.in_out"}),value:"IN_OUT"},{label:(0,l.jsx)(a.FormattedMessage,{id:"multiBankCashFlow.label.in"}),value:"IN"},{label:(0,l.jsx)(a.FormattedMessage,{id:"multiBankCashFlow.label.out"}),value:"OUT"}]},87758:function(e,t,n){var i=n(34148),a=(n(46759),n(85640)),l=n(46417);t.Z=function(e){var t=e.additionalTitle,n=e.subtitle,o=(0,a.useIntl)();return(0,l.jsxs)(l.Fragment,{children:[t&&(0,l.jsx)(i.Box,{pt:{base:2,md:2},children:(0,l.jsx)(i.Text,{fontSize:"sm",children:t})}),(0,l.jsx)(i.Box,{pt:{base:2,md:2},pb:{base:4,md:6},children:(0,l.jsx)(i.Text,{color:"gray.500",fontSize:"sm",children:n&&o.formatMessage({id:n})})})]})}},90560:function(e,t,n){var i=n(70885),a=n(34148),l=n(32916),o=n(85640),r=n(55159),d=n(87758),s=n(46417);t.Z=function(e){var t=e.title,n=e.additionalTitle,u=e.subtitle,c=e.href,m=e.controlComponent,v=e.dndComponent,h=e.children,p=e.id,f=e.titleId,x=e.titleOnClick,b=e.hasSeeMore,g=void 0===b||b,w=(0,a.useMediaQuery)("(max-width: 768px)"),C=(0,i.Z)(w,1)[0];return(0,s.jsxs)(a.Box,{display:"inline-block",boxShadow:"0px 8px 16px -8px #FCECE2",backgroundColor:"white",borderRadius:{base:0,md:16},w:"100%",maxW:"100vw",p:6,mb:6,children:[(0,s.jsxs)(a.HStack,{justifyContent:"space-between",alignItems:"baseline",children:[(0,s.jsxs)(a.HStack,{width:"100%",justifyContent:"space-between",flexDirection:{base:"column",md:"row"},children:[(0,s.jsxs)(a.Box,{width:"100%",children:[(0,s.jsx)(a.Heading,{onClick:x,id:f,fontSize:{base:"lg",md:"2xl"},display:"inline",children:t}),C&&(0,s.jsx)(d.Z,{additionalTitle:n,subtitle:u})]}),m&&(0,s.jsx)(a.Flex,{width:"100%",alignSelf:"flex-start",justifyContent:{base:"center",md:"end",sm:"flex-start"},pt:{base:0,md:0},pb:{base:8,md:0},children:m})]}),(0,s.jsxs)(a.Flex,{alignItems:"center",whiteSpace:"nowrap",children:[v,c&&g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Link,{id:"".concat(p,"-see-more-link"),to:c,children:(0,s.jsx)(a.Text,{color:"orange.500",fontWeight:700,children:(0,s.jsx)(o.FormattedMessage,{id:"SeeMore"})})}),(0,s.jsx)(a.Icon,{as:l.Rgz,color:"gray.400",ml:1})]})]})]}),!C&&(0,s.jsx)(d.Z,{additionalTitle:n,subtitle:u}),h]})}},90148:function(e,t,n){var i=n(34148),a=n(85640),l=n(46417);t.Z=function(e){var t=e.legend,n=(0,a.useIntl)();return(0,l.jsx)(i.Stack,{direction:"row",spacing:2,children:null===t||void 0===t?void 0:t.map((function(e){return e.text&&(0,l.jsxs)(i.Stack,{bg:"gray.100",px:4,py:2,rounded:8,direction:"row",alignItems:"center",children:[(0,l.jsx)(i.Circle,{size:"16px",bg:e.fillStyle}),(0,l.jsx)(i.Text,{fontSize:"sm",children:n.formatMessage({id:e.text})})]},e.text)}))})}},99741:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var i=n(34148),a=n(46759),l=n.n(a),o=n(85640),r=n(30341),d=n(1413),s=n(70885),u=n(90560),c=n(30936),m=n(79032),v=n(54607),h=n(46417),p=function(e){var t=e.params,n=e.setParams,a=(0,o.useIntl)().formatMessage,r=(0,i.useMediaQuery)("not all and (min-width: 768px)"),u=(0,s.Z)(r,1)[0],p=(0,v.b)().locale,f=(0,c.eZ)({path:"dashboardotherbank/getdashboardperiod",method:m.Ik.GET}).data,x=l().useMemo((function(){var e;return null!==f&&void 0!==f&&f.content?null===f||void 0===f||null===(e=f.content)||void 0===e?void 0:e.map((function(e){return{label:a({id:"multiBankCashFlow.label.".concat(null===e||void 0===e?void 0:e.code)}),value:null===e||void 0===e?void 0:e.code}})):[]}),[f,p]);return(0,h.jsxs)("div",{style:{marginBottom:"1rem",width:u?"100%":void 0},children:[(0,h.jsx)("div",{style:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:700,marginBottom:"0.75rem"},children:(0,h.jsx)(o.FormattedMessage,{id:"multiBankCashFlow.label.period"})}),(0,h.jsx)(i.Select,{style:{width:u?"100%":"auto"},value:null===t||void 0===t?void 0:t.period,onChange:function(e){if(t&&n){var i=e.target.value;n((0,d.Z)((0,d.Z)({},t),{},{period:i}))}},children:x.map((function(e,t){return(0,h.jsx)("option",{value:e.value,children:e.label},t)}))})]})},f=function(e){var t=e.optionalFilter,n=e.withPeriod,a=e.params,l=e.setParams,o=(0,i.useMediaQuery)("not all and (min-width: 768px)"),r=(0,s.Z)(o,1)[0],d=(0,i.useMediaQuery)("(min-width: 768px)"),u=(0,s.Z)(d,1)[0];return(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",marginTop:"1rem",columnGap:r?"0px":u?"1rem":void 0},children:[t,n&&(0,h.jsx)(p,{params:a,setParams:l})]})},x=n(32231),b=n(76291),g=n.n(b),w=n(39009),C={needGetChildCif:!1,corporateId:void 0,bankCode:"all"},y=g()()((0,w.tJ)((function(e){return(0,d.Z)((0,d.Z)({},C),{},{setNeedGetChildCif:function(t){return e({needGetChildCif:t})},setCorporateId:function(t){return e({corporateId:t})},setBankCode:function(t){return e({bankCode:t})}})}),{name:"multiBankCashFlow"})),j=n(20538),k=n(12271),I=n(27303),F=n(18787),Z=function(e){var t=e.value,n=e.setValue,a=(0,i.useMediaQuery)("not all and (min-width: 768px)"),l=(0,s.Z)(a,1)[0];return(0,h.jsxs)("div",{style:{marginBottom:"1rem",width:l?"100%":void 0},children:[(0,h.jsx)("div",{style:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:700,marginBottom:"0.75rem"},children:(0,h.jsx)(o.FormattedMessage,{id:"multiBankCashFlow.label.show"})}),(0,h.jsx)(i.Select,{style:{width:l?"100%":"auto"},value:t,onChange:function(e){n&&n(e.target.value)},children:j.hZ.map((function(e,t){return(0,h.jsx)("option",{value:e.value,children:e.label},t)}))})]})},B=n(31171),S=function(){var e=(0,o.useIntl)().formatMessage,t=(0,v.b)().locale,n=(0,x.a)().companyId,i=y(),a=i.needGetChildCif,r=i.corporateId,c=i.bankCode,m=r||n,p=l().useState("IN_OUT"),b=(0,s.Z)(p,2),g=b[0],w=b[1],C=l().useState({corporate:("all"===m?n:m)||"",period:j.TT,needGetChildCif:a,bankCode:"all"===c?void 0:c}),S=(0,s.Z)(C,2),T=S[0],M=S[1];l().useEffect((function(){T.corporate===m&&T.needGetChildCif===a&&T.bankCode===c||M((0,d.Z)((0,d.Z)({},T),{},{corporate:("all"===m?n:m)||"",needGetChildCif:a,bankCode:"all"===c?void 0:c}))}),[m,c,a]);var N=(0,k.d)(T),E=N.data,L=N.isLoading,O=l().useMemo((function(){var e,t,n,i,a,l,o,r=null===E||void 0===E||null===(e=E.content)||void 0===e?void 0:e.map((function(e){return null===e||void 0===e?void 0:e.barName})),d={label:"multiBankCashFlow.label.cashIn",data:(null===E||void 0===E||null===(t=E.content)||void 0===t?void 0:t.map((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Debit})))||[],backgroundColor:null===(n=I.O.teal)||void 0===n?void 0:n[500],borderColor:null===(i=I.O.teal)||void 0===i?void 0:i[500],pointStyle:"circle",pointRadius:5},s={label:"multiBankCashFlow.label.cashOut",data:(null===E||void 0===E||null===(a=E.content)||void 0===a?void 0:a.map((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Credit})))||[],backgroundColor:null===(l=I.O.orange)||void 0===l?void 0:l[500],borderColor:null===(o=I.O.orange)||void 0===o?void 0:o[500],pointStyle:"circle",pointRadius:5};return{labels:r,datasets:"IN"===g?[d]:"OUT"===g?[s]:[d,s]}}),[g,t,E]);return(0,h.jsxs)(u.Z,{title:e({id:"multiBankCashFlow.card.title.cashFlowTrend"}),subtitle:"multiBankCashFlow.card.subtitle.cashFlowTrend",children:[(0,h.jsx)(f,{withPeriod:!0,params:T,setParams:M,optionalFilter:(0,h.jsx)(Z,{value:g,setValue:w})}),L?(0,h.jsx)(B.Z,{}):(0,h.jsx)(F.Z,{data:O})]})},T=n(42982),M=n(45987),N=["title","style","options"],E=function(e){var t=e.title,n=e.style,a=e.options,l=(0,M.Z)(e,N);return(0,h.jsxs)("div",{style:(0,d.Z)({display:"flex",alignItems:"center",marginRight:"0.75rem",width:"100%"},n),children:[(0,h.jsx)(i.Text,{fontWeight:700,whiteSpace:"nowrap",style:{marginRight:"0.75rem"},children:t}),(0,h.jsx)("div",{style:{width:"100%",marginLeft:"0.75rem"},children:(0,h.jsx)(i.Select,(0,d.Z)((0,d.Z)({},l),{},{style:{width:"100%"},children:null===a||void 0===a?void 0:a.map((function(e,t){return(0,h.jsx)("option",{value:e.value,children:e.label},t)}))}))})]})},L=function(){var e,t=(0,o.useIntl)().formatMessage,n=(0,v.b)().locale,a=(0,x.a)().companyId,r=y(),d=r.corporateId,u=r.setCorporateId,p=r.setNeedGetChildCif,f=r.setBankCode,b=r.bankCode,g=(0,i.useMediaQuery)("(min-width: 940px)"),w=(0,s.Z)(g,1)[0],C=(0,c.eZ)({path:"dashboardotherbank/corporatelist",method:m.Ik.GET}).data,j=(e=d||a,(0,c.eZ)({path:"".concat("dashboardotherbank/getbank").concat("all"!==e?"/".concat(e):""),method:m.Ik.GET,refreshInterval:1e3})).data,k=l().useMemo((function(){return null!==C&&void 0!==C&&C.content?[{id:"all",name:t({id:"multiBankCashFlow.label.all"})}].concat((0,T.Z)(null===C||void 0===C?void 0:C.content)).map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.id}})):[]}),[C,n]),I=l().useMemo((function(){return null!==j&&void 0!==j&&j.content?[{bankName:"all"}].concat((0,T.Z)(null===j||void 0===j?void 0:j.content)).map((function(e){return{label:"all"===(null===e||void 0===e?void 0:e.bankName)?t({id:"multiBankCashFlow.label.all"}):null===e||void 0===e?void 0:e.bankName,value:null===e||void 0===e?void 0:e.bankName}})):[]}),[j,n]);return(0,h.jsxs)("div",{style:{display:"flex",flexDirection:w?"row":"column",alignItems:w?"center":void 0,justifyContent:w?"space-between":void 0,marginBottom:w?"1rem":void 0},children:[(0,h.jsx)(E,{title:t({id:"multiBankCashFlow.label.select.customerId"}),placeholder:t({id:"multiBankCashFlow.placeholder.select.customerId"}),value:d||a,options:k,style:{width:w?"50%":"100%",marginBottom:w?0:"0.75rem"},onChange:function(e){var t=e.target.value;u(""===t?void 0:t),p("all"===t)}}),(0,h.jsx)(E,{title:t({id:"multiBankCashFlow.label.select.bank"}),placeholder:t({id:"multiBankCashFlow.placeholder.select.bank"}),value:b,options:I,style:{width:w?"50%":"100%",marginBottom:w?0:"0.75rem"},onChange:function(e){var t=e.target.value;f(""===t?"all":t)}})]})},O=function(){var e=(0,o.useIntl)().formatMessage;return(0,h.jsxs)(i.Container,{maxW:"full",pt:{base:"7",md:"10"},px:{base:5,md:12},children:[(0,h.jsx)(r.Z,{id:"cashflow-page",title:e({id:"multiBankCashFlow.page.title"})}),(0,h.jsx)(L,{}),(0,h.jsx)(S,{})]})},G=function(){return(0,h.jsx)(O,{})}},12271:function(e,t,n){n.d(t,{d:function(){return l}});var i=n(30936),a=n(79032),l=function(e){return(0,i.eZ)({path:"dashboarotherbanktransaction/getdebitcredit",method:a.Ik.POST,body:e,refreshInterval:1e3})}},43015:function(e,t,n){n.d(t,{VG:function(){return a},a6:function(){return l},uf:function(){return i}});var i=function(e){try{if(!e)return"0";var t=Number(e);if("number"===typeof t)return t.toLocaleString()}catch(n){return console.log("Format Number Error"+n),"0"}},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\.00/g;return e.replace(t,"")},l=function(e,t){var n;if(!e&&"0"!==(null===(n=e)||void 0===n?void 0:n.toString()))return"0";e=String(e);var i=function(e,t){var n=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(Number(e)||0).replaceAll("Rp","");return null!==t&&void 0!==t&&t.limited?"".concat(n.slice(0,-3),".."):n},a=String(e);return e.length>=((null===t||void 0===t?void 0:t.maxLimit)||9)&&null!==t&&void 0!==t&&t.limited?i(a=e.slice(0,7),t):i(a)}}}]);