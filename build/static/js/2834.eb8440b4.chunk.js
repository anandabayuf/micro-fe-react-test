"use strict";(self.webpackChunkproject_bni_dashboard=self.webpackChunkproject_bni_dashboard||[]).push([[2834],{28842:function(e,t,n){n.d(t,{Z:function(){return l}});var o=n(34148),r=n(46759),a=n(85640),i=n(30936),d=n(1896),s=n(46417),l=function(e){var t=e.onSelectCIF,n=e.componentId,l=(0,i.eZ)({path:"dashboardasset/cifdroplist"}).data,c=(0,r.useMemo)((function(){return null===l||void 0===l?void 0:l.content}),[null===l||void 0===l?void 0:l.content]);(0,r.useEffect)((function(){c&&t(c[0].id)}),[c,t]);return(0,s.jsxs)(o.HStack,{width:"100%",maxWidth:{base:"100%",md:400},flexDirection:{base:"column",md:"row"},children:[(0,s.jsx)(o.Text,{whiteSpace:"nowrap",fontWeight:700,mr:{base:0,md:4},mb:{base:2,md:0},width:{base:"100%",md:"initial"},children:(0,s.jsx)(a.FormattedMessage,{id:"chooseCIF"})}),(0,s.jsx)(o.Select,{id:"".concat(n,"-select-cif"),onChange:function(e){t(e.target.value)},maxWidth:"100%",rootProps:{marginLeft:"0 !important"},children:null===c||void 0===c?void 0:c.map((function(e){var t=e.id,o=e.cifName;return(0,s.jsxs)("option",{value:t,id:"".concat(n,"-select-cif-option-").concat((0,d.R)(t),"-").concat((0,d.R)(o)),children:[t," - ",o]},t)}))})]})}},82627:function(e,t,n){var o=n(34148),r=n(46759),a=n(85640),i=n(90076),d=n(1896),s=n(46417);t.Z=function(e){var t=e.onSelectPeriod,n=e.id,l=(0,i.d)().data,c=(0,r.useMemo)((function(){return null===l||void 0===l?void 0:l.content}),[null===l||void 0===l?void 0:l.content]);(0,r.useEffect)((function(){c&&t(c[0].code)}),[c,t]);return(0,s.jsxs)(o.HStack,{width:"100%",maxWidth:{base:"100%",md:400},flexDirection:{base:"column",md:"row"},justifyContent:"flex-end",children:[(0,s.jsx)(o.Text,{whiteSpace:"nowrap",fontWeight:700,mr:{base:0,md:4},mb:{base:2,md:0},width:{base:"100%",md:"initial"},children:(0,s.jsx)(a.FormattedMessage,{id:"period"})}),(0,s.jsx)(o.Select,{id:"".concat(n,"-select-period"),onChange:function(e){t(e.target.value)},maxWidth:{base:"100%",md:200},rootProps:{marginLeft:"0 !important"},children:null===c||void 0===c?void 0:c.map((function(e){var t=e.code,o=e.name;return(0,s.jsx)("option",{value:t,id:"".concat(n,"-select-period-option-").concat((0,d.R)(o)),children:(0,s.jsx)(a.FormattedMessage,{id:t})},t)}))})]})}},72834:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var o=n(70885),r=n(34148),a=n(46759),i=n(85640),d=n(90560),s=n(90006),l=n(46417),c=function(e){var t=e.backgroundColors,n=e.headers,o=e.data;return(0,l.jsx)(r.Grid,{templateColumns:{base:"repeat(2, 1fr)",md:"repeat(2,1fr)",lg:"repeat(4,1fr)"},gap:4,width:"100%",mb:{base:8,md:4},children:n.map((function(e,n){return(0,l.jsx)(r.GridItem,{w:"100%",children:(0,l.jsx)(r.Box,{bgColor:t[n],p:"12px",borderRadius:"8px",color:"white",children:(0,l.jsxs)(r.Grid,{templateColumns:"repeat(2, 1fr)",alignItems:"center",children:[(0,l.jsx)(r.Text,{fontSize:"14px",fontWeight:"bold",maxWidth:"85px",children:(0,l.jsx)(i.FormattedMessage,{id:e})}),(0,l.jsx)(r.Text,{fontSize:"18px",fontWeight:"bold",textAlign:"right",children:(0,s.r)(o[e])})]})})},e)}))})},u=n(1413),p=n(43015),m=function(e){var t=e.datasets,n=e.tableHeaders,o={fontSize:14,fontWeight:700,isNumeric:!0};return(0,l.jsx)(l.Fragment,{children:t.map((function(e,t){return(0,l.jsxs)(r.Tr,{children:[(0,l.jsx)(r.Td,{px:0,borderBottom:"1px",borderBottomColor:"orange.100",children:e.currency}),n.map((function(t,i){var d;return(0,a.createElement)(r.Td,(0,u.Z)((0,u.Z)({},o),{},{key:i,borderBottom:"1px",borderBottomColor:"orange.100"}),null!==(d=(0,p.a6)(e[n[i]].balance))&&void 0!==d?d:"-")}))]},e.currency)}))})},f=function(e){var t=e.tableHeaders,n=e.datasets;return(0,l.jsx)(r.TableContainer,{display:{base:"none",lg:"block",md:"none"},children:(0,l.jsxs)(r.Table,{variant:"simple",style:{tableLayout:"fixed"},children:[(0,l.jsx)(r.Thead,{children:(0,l.jsxs)(r.Tr,{children:[(0,l.jsx)(r.Th,{borderBottom:"1px",borderBottomColor:"orange.100",w:1}),t.map((function(e){return(0,l.jsx)(r.Th,{color:"gray.500",fontWeight:500,textTransform:"capitalize",textAlign:"right",borderBottom:"1px",borderBottomColor:"orange.100",children:(0,l.jsx)(i.FormattedMessage,{id:e})},e)}))]})}),(0,l.jsx)(r.Tbody,{children:(0,l.jsx)(m,{datasets:n,tableHeaders:t})})]})})},b=function(e){var t=e.tableHeaders,n=e.datasets;return(0,l.jsxs)(r.Box,{display:{base:"initial",md:"initial",lg:"none"},children:[(0,l.jsx)(r.Divider,{mb:2,borderColor:"orange.100"}),t.map((function(e,o){return(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(r.Text,{fontWeight:700,textTransform:"capitalize",mb:4,children:(0,l.jsx)(i.FormattedMessage,{id:e})}),(0,l.jsx)(r.SimpleGrid,{columns:2,display:{base:"grid",md:"grid",lg:"none"},columnGap:4,children:n.map((function(e){var n;return(0,l.jsxs)(r.Grid,{templateColumns:"1fr 2fr",children:[(0,l.jsx)(r.Text,{color:"gray.500",children:e.currency}),(0,l.jsx)(r.Text,{textAlign:"right",children:null!==(n=(0,p.a6)(e[t[o]].balance))&&void 0!==n?n:"-"})]},e.currency)}))}),(0,l.jsx)(r.Divider,{display:t.length===o+1?"none":"block",borderColor:"orange.100",py:2,mb:2})]},e)}))]})},x=n(35941),g=n(10190),h=n(44439),v=function(e){e.cifNo;var t=(0,i.useIntl)(),n=(0,x.o)((function(e){return{details:e.details}}),g.Z).details,o=["CurrentAccount","SavingAccount","DepositAccount","KustodialAccount"],r={CA:"1",SA:"2",D:"3",K:"4"},s=function(e,t){return e.accountType===t||!!e.accountType.startsWith(r[t])},u=(0,a.useMemo)((function(){return n.summary.map((function(e){var t,n,o,r,a,i,d,l;return{currency:e.currency,DepositAccount:{balance:null===(t=e.details.find((function(e){return s(e,"D")})))||void 0===t?void 0:t.balance,percentage:null===(n=e.details.find((function(e){return s(e,"D")})))||void 0===n?void 0:n.percentage},SavingAccount:{balance:null===(o=e.details.find((function(e){return s(e,"SA")})))||void 0===o?void 0:o.balance,percentage:null===(r=e.details.find((function(e){return s(e,"SA")})))||void 0===r?void 0:r.percentage},CurrentAccount:{balance:null===(a=e.details.find((function(e){return s(e,"CA")})))||void 0===a?void 0:a.balance,percentage:null===(i=e.details.find((function(e){return s(e,"CA")})))||void 0===i?void 0:i.percentage},KustodialAccount:{balance:null===(d=e.details.find((function(e){return s(e,"K")})))||void 0===d?void 0:d.balance,percentage:null===(l=e.details.find((function(e){return s(e,"K")})))||void 0===l?void 0:l.percentage}}}))}),[n]),p=(0,a.useMemo)((function(){var e={DepositAccount:0,SavingAccount:0,CurrentAccount:0,KustodialAccount:0};return u&&(e.DepositAccount=(0,h.sum)(u.map((function(e){return Number(e.DepositAccount.percentage||0)})))||0,e.SavingAccount=(0,h.sum)(u.map((function(e){return Number(e.SavingAccount.percentage||0)})))||0,e.CurrentAccount=(0,h.sum)(u.map((function(e){return Number(e.CurrentAccount.percentage||0)})))||0,e.KustodialAccount=(0,h.sum)(u.map((function(e){return Number(e.KustodialAccount.percentage||0)})))||0),e}),[u]);return(0,l.jsxs)(d.Z,{title:t.formatMessage({id:"availableDeposit"}),subtitle:"infoAvailableDeposit",children:[(0,l.jsx)(c,{backgroundColors:["orange.500","orange.300","teal.500","teal.300"],headers:o,data:p}),(0,l.jsx)(f,{tableHeaders:o,datasets:u||[]}),(0,l.jsx)(b,{tableHeaders:o,datasets:u||[]})]})},j=n(19577),y=n(82627),C=n(30936),S=n(79032),w=n(6875),A=n(33438),T=n(90148),B=n(27303);w.Chart.register(w.CategoryScale,w.LinearScale,w.BarElement,w.PointElement,w.LineElement,w.Title,w.Tooltip,w.Legend);var M=function(e){var t,n,o=e.labels,i=e.dataSets,d=void 0===i?[]:i,s=e.dataSetsLabel,c=void 0===s?"":s,u=e.id,m=(0,a.useMemo)((function(){var e,t;return{labels:o,datasets:[{label:c,data:d,backgroundColor:null===(e=B.O.teal)||void 0===e?void 0:e[500],borderColor:null===(t=B.O.teal)||void 0===t?void 0:t[500],pointStyle:"circle",pointRadius:5}]}}),[o,d,c]),f=(0,a.useRef)(null),b={maintainAspectRatio:!1,plugins:{legend:{display:!1,labels:{usePointStyle:!0}},tooltip:{enabled:!1,external:function(e){var t=document.getElementById("".concat(u,"-tooltip"));t||((t=document.createElement("div")).id="".concat(u,"-tooltip"),t.innerHTML="<table></table>",document.body.appendChild(t));var n=e.tooltip;if(0!==n.opacity){if(t.classList.remove("above","below","no-transform"),n.yAlign?t.classList.add(n.yAlign):t.classList.add("no-transform"),n.body){var o="<tbody>",r=n.dataPoints[0].dataset.backgroundColor,a=Number((Number(n.dataPoints[0].raw)/1e6).toFixed(2)),i="background: white";i+="; position : relative",i+="; border-color:"+r,i+="; box-shadow : 0px 8px 16px -8px"+r,i+="; padding : 8px",i+="; border-radius : 8px",i+="; border : 1px solid "+r,i+="; border-width: 2px",i+="; z-index : 2",o+="<tr><td>"+('<span style="'+(i+="; white-space : nowrap;")+' class=""> IDR '+(0,p.a6)(a)+"</span>")+"</td></tr>",o+="</tbody>";var d=t.querySelector("table");d&&(d.innerHTML=o)}var s=e.chart.canvas.getBoundingClientRect();t.style.opacity="1",t.style.position="absolute",t.style.left=s.left+window.pageXOffset+10+n.caretX+"px",t.style.top=s.top+window.pageYOffset-10+n.caretY+"px",t.style.padding=n.padding+"px "+n.padding+"px",t.style.pointerEvents="none"}else t.style.opacity="0"}}},scales:{x:{grid:{display:!1,drawBorder:!1}},y:{grid:{drawBorder:!1,borderDash:[8,4]},ticks:{callback:function(e){return(0,p.a6)(Number(e)/1e6)}}}}},x=null===f||void 0===f||null===(t=f.current)||void 0===t||null===(n=t.legend)||void 0===n?void 0:n.legendItems;return(0,l.jsxs)(r.Box,{width:"95%",children:[(0,l.jsx)(r.Box,{height:320,children:(0,l.jsx)(A.Line,{options:b,data:m,ref:f})}),(0,l.jsx)(r.Flex,{flexDir:"row-reverse",mt:4,children:(0,l.jsx)(T.Z,{legend:x})})]})},D=function(e){var t,n=e.cifNo,r=e.id,s=(0,i.useIntl)(),c=(0,a.useState)(""),u=(0,o.Z)(c,2),p=u[0],m=u[1],f=(t={cifNo:n,period:p},(0,C.eZ)({path:"dashboardasset/getasettrend",method:S.Ik.POST,body:t})).data,b=(0,a.useMemo)((function(){var e=null===f||void 0===f?void 0:f.content;return{labels:null===e||void 0===e?void 0:e.map((function(e){return e.barName})),datasets:null===e||void 0===e?void 0:e.map((function(e){return e.balance}))}}),[null===f||void 0===f?void 0:f.content]);return(0,l.jsx)(d.Z,{title:s.formatMessage({id:"depositTren"}),additionalTitle:s.formatMessage({id:"TrendCashFlowSubtitle"}),subtitle:"TrendCashFlowNewSubtitle",controlComponent:(0,l.jsx)(y.Z,{id:"".concat(r,"-asset-trend"),onSelectPeriod:m}),children:(0,l.jsx)(M,{id:"".concat(r,"-asset-trend-chart"),labels:b.labels,dataSets:b.datasets,dataSetsLabel:"depositAmount"})})},Z=n(28842),k=n(30341),N=function(){var e=(0,a.useState)(""),t=(0,o.Z)(e,2),n=t[0],s=t[1],c=(0,i.useIntl)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.Container,{maxW:"full",pt:{base:"7",md:"10"},px:{base:5,md:12},children:(0,l.jsx)(k.Z,{id:"deposit-page",title:c.formatMessage({id:"Deposit"}),controlComponent:(0,l.jsx)(Z.Z,{componentId:"deposit-page",onSelectCIF:s})})}),(0,l.jsxs)(r.Container,{maxW:"full",px:{base:0,md:12},pb:12,children:[(0,l.jsx)(r.Grid,{templateColumns:{base:"1fr",md:"1fr"},gap:5,children:(0,l.jsx)(d.Z,{title:c.formatMessage({id:"summary"}),subtitle:"depositSubtitle",children:(0,l.jsx)(j.Z,{id:"deposit-page",cifNo:n})})}),(0,l.jsx)(r.Box,{w:"100%",children:(0,l.jsx)(D,{id:"deposit-page",cifNo:n})}),(0,l.jsx)(r.Box,{w:"100%",children:(0,l.jsx)(v,{cifNo:n})})]})]})}},90076:function(e,t,n){n.d(t,{d:function(){return r}});var o=n(30936),r=function(){return(0,o.eZ)({path:"dashboardasset/getdashboardperiod"})}}}]);