"use strict";(self.webpackChunkproject_bni_dashboard=self.webpackChunkproject_bni_dashboard||[]).push([[332],{526:function(e,n,t){t.r(n),t.d(n,{default:function(){return Qe}});var o=t(885),i=t(4148),r=t(5640),a=t(5159),s=["group","user"],l=[{Header:"groupId",accessor:"code",width:"100%"},{Header:"group",accessor:"name",width:"100%"},{Header:"menu",accessor:"details",id:"userManagementGroup",disableSortBy:!0,width:"100%"},{Header:"",accessor:"actions",disableSortBy:!0,width:"30%"}],d=[{Header:"groupId",accessor:"id",width:"95%"},{Header:"group",accessor:"name",width:"95%"},{Header:"",id:"expander",width:10}],c=[{Header:"userIdLoginLabel",accessor:"userId",width:"100%"},{Header:"role",accessor:"role",width:"100%"},{Header:"name",accessor:"name",width:"100%"},{Header:"email",accessor:"email",width:"100%"},{Header:"status",accessor:"status",width:"100%"},{Header:"",accessor:"actions",disableSortBy:!0,width:80}],u=[{Header:"userIdLoginLabel",accessor:"userId",minWidth:120,width:"50%"},{Header:"role",accessor:"role",width:"45%"},{Header:"",id:"expander",width:10}],m=t(1413),x=t(6759),p=t(6672),h=t(2916),g=t(3189),f=t(2789),j=t(6417),b=function(e){var n=e.cell,t=e.isFirstColumn;return(0,j.jsx)(i.Flex,{alignSelf:"center",justifyContent:"center",w:n.column.width,maxW:n.column.maxWidth,minW:n.column.minWidth,h:10,bg:"0"===n.value?"teal.500":"supportingRed.500",borderRadius:4,py:2,overflow:"hidden",children:(0,j.jsx)(i.Text,{color:"white",px:1,fontSize:{base:14,md:16},maxW:n.column.width,fontWeight:t?"bold":400,textTransform:"capitalize",children:(0,j.jsx)(r.FormattedMessage,{id:"0"===n.value?"active":"1"===n.value?"inactive":"locked"})})})},v=function(e){var n=e.cell,t=e.isFirstColumn,o=e.isUseMenu,a=e.handleStatusItem,s=e.handleSessionItem,l=e.handleDeleteItem,d=e.handleEditItem,c=e.id;if("status"===n.column.id)return(0,j.jsx)(b,{cell:n,isFirstColumn:t});if("boolean"===typeof n.value)return(0,j.jsx)(i.Flex,{alignItems:"center",w:n.column.width,maxW:n.column.maxWidth,minW:n.column.minWidth,children:n.value?(0,j.jsx)(h.UgA,{color:"gray.900",size:20}):(0,j.jsx)(h.q5L,{color:"gray.900",size:20})});if("expander"===n.column.id)return(0,j.jsx)(i.Flex,(0,m.Z)((0,m.Z)({id:"".concat(c,"-cell-item-expander-btn"),alignItems:"center",justifyContent:"center",w:n.column.width},n.row.getToggleRowExpandedProps()),{},{children:n.row.isExpanded?(0,j.jsx)(h.rH8,{color:"gray.900",size:20}):(0,j.jsx)(h.bTu,{color:"gray.900",size:20})}));if("userManagementGroup"===n.column.id){var u=n.value.menuList;return(0,j.jsx)(i.Flex,{alignItems:"center",flexDir:{base:"column",md:"row"},flexWrap:"wrap",minW:n.column.minWidth,gap:2,w:"full",children:u.slice(0,n.value.length>3?3:n.value.length).map((function(e){return(0,j.jsx)(i.Box,{backgroundColor:"white",borderColor:"orange.500",color:"orange.500",borderWidth:1,borderRadius:4,mr:1,px:2,py:1,my:1,children:(0,j.jsxs)(i.Text,{fontSize:12,children:[e.name,e.viewOnly&&" (Read-Only)"]})},"cellValue-".concat(e.id))}))})}return"actions"===n.column.id?(0,j.jsx)(i.Flex,{ml:2,justifyContent:"flex-end",alignItems:"center",w:n.column.width,maxW:n.column.maxWidth,minW:n.column.minWidth,children:o?(0,j.jsxs)(i.Menu,{id:"".concat(c,"-cell-item-menu"),children:[(0,j.jsx)(i.MenuButton,{id:"".concat(c,"-cell-item-menu-btn"),as:i.IconButton,w:0,h:0,icon:(0,j.jsx)(i.Icon,{as:h.$Pu,color:"orange.500",fontSize:20}),variant:"unstyled",_focus:{boxShadow:"none"},display:"flex",alignItems:"center","aria-label":"Open Menu button"}),(0,j.jsxs)(i.MenuList,{id:"".concat(c,"-cell-item-menu-list"),minW:"150px",textTransform:"capitalize",children:[(0,j.jsx)(i.MenuItem,{id:"".concat(c,"-cell-item-menu-list-item-unlock"),onClick:function(){return a&&a(Number(n.row.id))},children:(0,j.jsx)(r.FormattedMessage,{id:"unlock"})}),(0,j.jsx)(i.MenuItem,{id:"".concat(c,"-cell-item-menu-list-item-release-session"),onClick:function(){return s&&s(Number(n.row.id))},children:(0,j.jsx)(r.FormattedMessage,{id:"releaseSession"})}),(0,j.jsx)(i.MenuItem,{id:"".concat(c,"-cell-item-menu-list-item-edit"),onClick:function(){return d(Number(n.row.id))},children:(0,j.jsx)(r.FormattedMessage,{id:"edit"})}),(0,j.jsx)(i.MenuItem,{id:"".concat(c,"-cell-item-menu-list-item-delete"),onClick:function(){return l(Number(n.row.id))},children:(0,j.jsx)(r.FormattedMessage,{id:"delete"})})]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.IconButton,{id:"".concat(c,"-cell-item-edit-btn"),w:0,h:0,variant:"unstyled",_focus:{boxShadow:"none"},display:"flex",alignItems:"center","aria-label":"Edit Icon button",onClick:function(){return d(Number(n.row.id))},children:(0,j.jsx)(i.Icon,{as:h.vPQ,color:"orange.500",fontSize:20})}),(0,j.jsx)(i.IconButton,{id:"".concat(c,"-cell-item-delete-btn"),variant:"unstyled",_focus:{boxShadow:"none"},display:"flex",alignItems:"center","aria-label":"Delete Icon button",onClick:function(){return l(Number(n.row.id))},children:(0,j.jsx)(i.Icon,{as:h.Ybf,color:"orange.500",fontSize:20})})]})}):(0,j.jsx)(i.Flex,{alignItems:"center",w:n.column.width,maxW:n.column.maxWidth,minW:n.column.minWidth,my:{base:1,md:2},bg:"orange.50",overflow:"hidden",children:(0,j.jsx)(i.Text,{noOfLines:1,color:"gray.900",fontSize:{base:14,md:16},mr:4,maxW:n.column.width,fontWeight:t?"bold":400,children:"createdDate"===n.column.id?(0,f.format)(new Date(n.value),"yyyy-MMM-dd"):n.render("Cell")})})},y=function(e){var n=e.header,t=e.id,o=(0,r.useIntl)();return(0,j.jsxs)(i.Flex,(0,m.Z)((0,m.Z)({id:t,py:2,alignItems:"center"},n.getSortByToggleProps()),{},{w:n.width,maxW:n.maxWidth,minW:n.minWidth,children:[(0,j.jsx)(i.Text,{color:"gray.600",textTransform:"capitalize",fontWeight:"400",fontSize:{base:12,md:14},mr:4,children:""!==n.Header?o.formatMessage({id:n.Header}):""}),n.isSorted&&(n.isSortedDesc?(0,j.jsx)(h.bTu,{color:"gray.400",size:16}):(0,j.jsx)(h.rH8,{color:"gray.400",size:16}))]}))},w=function(e){var n=e.onSort,t=e.columns,o=e.tableData,a=e.defaultItemPerPage,s=e.defaultPageNumber,l=e.totalPage,d=void 0===l?0:l,c=e.isUseMenu,u=void 0!==c&&c,p=e.handleSessionItem,f=e.handleStatusItem,b=e.handleEditItem,w=e.handleDeleteItem,S=e.handleDetailItem,k=e.renderRowSubComponent,C=e.id,F=(0,x.useMemo)((function(){return t}),[t]),M=(0,x.useMemo)((function(){return o}),[o]),I=(0,g.useTable)({columns:F,data:M,initialState:{pageIndex:s,pageSize:a},manualPagination:!0,manualSortBy:!0,pageCount:Math.ceil(d/a)},g.useSortBy,g.useExpanded,g.usePagination),T=I.headerGroups,U=I.page,Z=I.prepareRow,B=I.canPreviousPage,W=I.canNextPage,D=I.pageCount,P=I.gotoPage,z=I.nextPage,G=I.previousPage,E=I.setPageSize,O=I.state,R=O.pageIndex,A=O.pageSize,H=O.sortBy;(0,x.useEffect)((function(){n&&n({sortBy:H,pageIndex:R,pageSize:A})}),[n,H,R,A]);return(0,j.jsxs)(i.Box,{width:"100%",overflowX:"auto",children:[(0,j.jsxs)(i.Box,{my:6,w:"100%",children:[T.map((function(e){return(0,j.jsx)(i.Flex,(0,m.Z)((0,m.Z)({borderTopWidth:1,borderColor:"gray.100"},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e,n){return(0,j.jsx)(y,(0,m.Z)({id:"".concat(C,"-table-header-item-").concat(""===e.Header?"action":e.Header),header:e},e.getHeaderProps()))}))}))})),(0,j.jsx)(i.Flex,{flexDirection:"column",children:U.map((function(e){return Z(e),(0,j.jsxs)(i.Flex,(0,m.Z)((0,m.Z)({direction:"column",flex:1},e.getRowProps()),{},{children:[(0,j.jsx)(i.Flex,{borderTopWidth:1,borderColor:"gray.100",py:1,gap:1,children:e.cells.map((function(n){return(0,j.jsx)(v,(0,m.Z)((0,m.Z)({id:"".concat(C,"-table-row-").concat(e.index),cell:n,isFirstColumn:n.column.id===t[0].accessor},n.getCellProps()),{},{isUseMenu:u,handleStatusItem:f,handleSessionItem:p,handleDetailItem:S,handleDeleteItem:w,handleEditItem:b}))}))}),e.isExpanded?k(e):null]}))}))})]}),(0,j.jsxs)(i.Box,{display:"flex",justifyContent:{base:"center",md:"space-between"},alignItems:"center",my:8,children:[(0,j.jsx)(i.Box,{display:"flex",alignItems:"center",fontWeight:400,children:d>A&&(0,j.jsxs)(i.Flex,{alignItems:"center",display:{base:"none",md:"flex"},children:[(0,j.jsx)(i.Text,{color:"gray.600",mr:2,fontSize:14,children:(0,j.jsx)(r.FormattedMessage,{id:"numberOfRows"})}),[10,20,40].map((function(e){return e<d?(0,j.jsx)(i.Button,{id:"".concat(C,"-table-pagination-page-size-").concat(e),p:0,onClick:function(){return E(e)},variant:"unstyled",_focus:{boxShadow:"none"},display:"flex",alignItems:"center",children:(0,j.jsx)(i.Flex,{backgroundColor:e===A?"orange.500":"transparent",color:e===A?"white":"gray.900",w:8,h:8,justifyContent:"center",alignItems:"center",fontWeight:400,children:(0,j.jsx)(i.Text,{fontSize:14,children:e})})},"page-".concat(e)):null}))]})}),(0,j.jsxs)(i.Flex,{direction:"column",alignItems:"center",children:[(0,j.jsxs)(i.Flex,{alignItems:"center",children:[(0,j.jsx)(i.IconButton,{id:"".concat(C,"-table-pagination-previous-page-btn"),p:0,variant:"unstyled",_focus:{boxShadow:"none"},display:"flex",alignItems:"center",onClick:function(){return G()},isDisabled:!B,"aria-label":"Back Icon button",children:(0,j.jsx)(i.Icon,{as:h.YFh,color:"gray.900",fontSize:20})}),Array.from(Array(D).keys()).map((function(e){return e+2===4&&D>5?(0,j.jsx)(i.Flex,{backgroundColor:"transparent",color:"gray.900",w:8,h:8,justifyContent:"center",alignItems:"center",fontWeight:400,children:(0,j.jsx)(i.Text,{fontSize:14,children:"..."})},"pageOptions-".concat(e)):e+2>4&&e+2<D?null:(0,j.jsx)(i.Button,{id:"".concat(C,"-table-pagination-page-").concat(e+1,"-btn"),p:0,variant:"unstyled",_focus:{boxShadow:"none"},display:"flex",alignItems:"center",onClick:function(){return P(e)},children:(0,j.jsx)(i.Flex,{backgroundColor:R===e?"orange.500":"transparent",color:R===e?"white":"gray.900",w:8,h:8,justifyContent:"center",alignItems:"center",fontWeight:400,children:(0,j.jsx)(i.Text,{fontSize:14,children:e+1})})},"pageOptions-".concat(e))})),(0,j.jsx)(i.IconButton,{id:"".concat(C,"-table-pagination-next-page-btn"),p:0,variant:"unstyled",_focus:{boxShadow:"none"},display:"flex",alignItems:"center",onClick:function(){return z()},isDisabled:!W,"aria-label":"Next Icon button",children:(0,j.jsx)(i.Icon,{as:h.Tfp,color:"gray.900",fontSize:20})})]}),(0,j.jsx)(i.Text,{color:"gray.600",fontSize:14,mt:4,display:{base:"block",md:"none"},children:"Menampilkan halaman ".concat(R+1," dari ").concat(D)})]})]})]})},S=function(e){var n=e.value,t=e.onChange,o=e.placeHolder,r=e.id;return(0,j.jsx)("form",{id:"".concat(r,"-search-bar-form"),onSubmit:function(e){e.preventDefault();var n=new FormData(e.currentTarget),o=Object.fromEntries(n.entries());t(o.search||"")},style:{width:"100%"},children:(0,j.jsxs)(i.InputGroup,{w:{base:"full",md:"30%"},maxW:{base:"full",md:350},minW:200,children:[(0,j.jsx)(i.InputLeftElement,{pointerEvents:"none",h:46,w:46,children:(0,j.jsx)(h.jRj,{color:"gray",size:18})}),(0,j.jsx)(i.Input,{id:"".concat(r,"-search-bar-form-input-search"),defaultValue:n,name:"search",_focus:{backgroundColor:"white",borderColor:"gray.400"},variant:"filled",backgroundColor:"gray.100",h:46,rounded:"0",placeholder:o||"",_placeholder:{color:"gray.600"},fontSize:16,fontWeight:400,color:"gray.900"})]})})},k=t(5861),C=t(7757),F=t.n(C),M=function(e){var n=e.cellSelect,t=e.setCellSelect,o=e.title,a=e.note,s=e.description,l=e.children,d=e.onDelete,c=e.id,u=function(){return t(null)},m=(0,i.useBreakpointValue)({base:"full",md:"sm"}),x=function(){var e=(0,k.Z)(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:if(!e.sent){e.next=4;break}u();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)(i.Modal,{id:"".concat(c,"-modal-delete"),isOpen:null!==n,size:m,onClose:u,isCentered:!0,children:[(0,j.jsx)(i.ModalOverlay,{}),(0,j.jsxs)(i.ModalContent,{minH:"md",children:[(0,j.jsx)(i.ModalHeader,{children:o}),(0,j.jsx)(i.ModalCloseButton,{id:"".concat(c,"-modal-delete-close-btn")}),(0,j.jsxs)(i.ModalBody,{mt:6,children:[(0,j.jsx)(i.Text,{children:s}),(0,j.jsx)(i.Box,{p:6,border:"1px solid",borderColor:"gray.200",mt:3,children:l}),(0,j.jsx)(i.Text,{pt:"4",children:a})]}),(0,j.jsx)(i.ModalFooter,{children:(0,j.jsxs)(i.Flex,{gap:4,w:"full",children:[(0,j.jsx)(i.Button,{id:"".concat(c,"-modal-delete-cancel-btn"),w:"full",variant:"outline",borderColor:"gray.400",color:"gray.500",rounded:0,onClick:u,children:(0,j.jsx)(r.FormattedMessage,{id:"cancel"})}),(0,j.jsx)(i.Button,{id:"".concat(c,"-modal-delete-delete-btn"),w:"full",rounded:0,onClick:x,children:(0,j.jsx)(r.FormattedMessage,{id:"delete"})})]})})]})]})},I=t(1932),T=t(6291),U=t.n(T),Z=t(9009),B={formUser:null,formGroup:{name:"",id:"",code:"",menuList:[],userList:[]},activeStep:0},W=U()()((0,Z.tJ)((function(e){return(0,m.Z)((0,m.Z)({},B),{},{setFormUser:function(n){return e({formUser:n})},setFormGroup:function(n){return e({formGroup:n})},setActiveSteps:function(n){return e({activeStep:n})},resetFormGroup:function(){return e({formGroup:B.formGroup})}})}),{name:"userManagement"})),D=function(e){var n=e.title,t=e.children,o=e.steps,a=e.onClose,s=e.isOpen,l=e.onComplete,d=e.isLoading,c=e.id,u=(0,i.useBreakpointValue)({base:"full",md:"md"}),m=W(),x=m.activeStep,p=m.setActiveSteps,h=m.setFormUser,g=m.resetFormGroup;return(0,j.jsxs)(i.Modal,{id:"".concat(c,"-modal"),isOpen:null!==s&&void 0!==s&&s,size:u,onClose:function(){p(0),h(null),g(),a()},isCentered:!0,children:[(0,j.jsx)(i.ModalOverlay,{}),(0,j.jsxs)(i.ModalContent,{children:[(0,j.jsx)(i.ModalHeader,{children:n}),(0,j.jsx)(i.ModalCloseButton,{id:"".concat(c,"-modal-close-btn")}),(0,j.jsxs)(i.ModalBody,{mt:6,children:[(0,j.jsx)(I.Steps,{id:"".concat(c,"-modal-steps"),activeStep:x,responsive:!1,children:o.map((function(e,n){var t=e.label,o=e.content;return(0,j.jsx)(I.Step,{id:"".concat(c,"-modal-step-").concat(n+1),children:o},t)}))}),(0,j.jsx)(i.Box,{mt:6,children:t}),o.length-1===x&&(0,j.jsxs)(i.Flex,{gap:6,mt:10,children:[(0,j.jsx)(i.Button,{id:"".concat(c,"-modal-step-").concat(x+1,"-back-btn"),w:"full",borderColor:"gray.400",rounded:0,mb:4,onClick:function(){return p(x-1)},children:(0,j.jsx)(r.FormattedMessage,{id:"back"})}),(0,j.jsx)(i.Button,{id:"".concat(c,"-modal-step-").concat(x+1,"-").concat(o.length-1===x?"save":"next","-btn"),w:"full",borderColor:"gray.400",rounded:0,onClick:l,isLoading:d,children:o.length-1===x?(0,j.jsx)(r.FormattedMessage,{id:"save"}):(0,j.jsx)(r.FormattedMessage,{id:"next"})})]})]})]})]})},P=function(e){return(0,i.useToast)((0,m.Z)({variant:"top-accent",position:"top-right",isClosable:!0},e))},z=t(5871),G=t.n(z),E="http://34.101.158.242:8007",O="GET",R={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1},A=t(5564),H=t.n(A),L={companyId:void 0,token:void 0,user:void 0,firstTimeLogin:!1},N=U()()((0,Z.tJ)((function(e){return{setCompanyId:function(n){return e({companyId:n})},setToken:function(n){return e({token:n})},setUser:function(n){return e({user:n})},clearAuth:function(){return e(L)},setFirstTimeLogin:function(n){return e({firstTimeLogin:n})},firstTimeLogin:!1}}),{name:"auth"})),_=t(4607),V=t(799),q=JSON.parse('{"iam.application.exception.001":"User already exists","iam.application.exception.002":"User not found","iam.application.exception.003":"Incorrect Password","iam.application.exception.004":"IP Address is not allowed","iam.application.exception.005":"Token is expired","iam.external.application.exception.001":"User already exists","iam.external.application.exception.002":"User not found","iam.forgotpassword.exception.001":"Invalid Email User","iam.forgotpassword.exception.002":"User not found","iam.user.exception.001":"User already exists","iam.user.exception.002":"User not found","iam.userglobalapplication.exception.001":"User not found","iam.userglobalapplication.exception.002":"Invalid User","iam.userlogin.exception.001":"User is locked","iam.userlogin.exception.002":"User not found","iam.userlogin.exception.003":"Invalid user or password","iam.userlogin.exception.004":"User is inactive","iam.userlogin.exception.005":"User is still login","iam.changepassword.exception.001":"Invalid old password","iam.changepassword.exception.002":"Invalid password specification","iam.changepassword.exception.003":"New password doesnt match. Confirm new password","iam.changepassword.exception.004":"New password already exist in history","iam.loginhistory.exception.001":"To Date is less than from date","iam.loginhistory.exception.002":"From Date and To Date Field is Mandatory","iam.loginhistory.exception.003":"Type Field is Mandatory","iam.systemparameter.exception.001":"System parameter not found","iam.systemparameter.exception.002":"System parameter minimum password length cannot be greater than maximum password length","iam.systemparameter.exception.003":"System parameter total minimum occurences cannot be greater than minimum password length","iam.systemparameter.exception.004":"System parameter external minimum password length cannot be greater than external maximum password length","iam.systemparameter.exception.005":"System parameter external total minimum occurences cannot be greater than external minimum password length","iam.usercorporateglobal.exception.001":"User Corporate already exist","iam.usercorporateglobal.exception.002":"User Corporate not found","iam.usercorporateglobal.exception.003":"User not found","iam.userglobal.exception.001":"User Global already exist","iam.userglobal.exception.002":"User Global not found","ict.usergroup.exception.001":"User Group already exist","ict.usergroup.exception.002":"User Group not found","ict.usergroup.exception.003":"User Group user list not found","ict.usergroup.exception.004":"User Group user already has User Group","customerhub.bouserlogin.exception.001":"User Group not exist","customerhub.bouserlogin.exception.002":"User Group is inactive","customerhub.calendar.exception.001":"Start Date and End Date Field are Mandatory","customerhub.calendar.exception.002":"Start Date cannot be greater than End Date","customerhub.dashboard.asset.exception.001":"File not exist","customerhub.connectservice.exception.001":"User already exist","customerhub.connectservice.exception.002":"User is admin flag must be same with channel is admin flag","customerhub.portalotp.exception.001":"ID not exist","customerhub.portalotp.exception.002":"Forbidden Access","customerhub.user.exception.001":"User already exist","customerhub.user.exception.002":"User not found","customerhub.user.exception.003":"User is not Admin","customerhub.userlogin.exception.001":"User Group Not Exist","customerhub.userlogin.exception.002":"User Group is inactive","customerhub.userlogin.exception.003":"Corporate is inactive","workflow.exception.001":"Unique key exist","workflow.exception.002":"Pending task not exist or already rejected or approved","workflow.exception.003":"User is not Approver","jwtverification.exception.001":"Your session has expired","successAddGroup":"Group has been successfully added","successAddEvents":"Agenda has been successfully added","successAddUser":"User has been successfully added","successEditEvents":"Agenda has been successfully changed","successEditGroup":"Group has been successfully changed","successEditUser":"User has been successfully changed","successDeleteEvents":"Agenda has been successfully deleted","successDeleteGroup":"Grup has been successfully deleted","successDeleteUser":"User has been successfully deleted","changePasswordSuccess":"Password has been successfuly changed","approveTaskSuccess":"Request has been successfully approved","rejectTaskSuccess":"Request has been successfully rejected","connectServiceError":"Invalid data. Please try again","connectServiceSuccess":"This service has been successfully linked","err_default":"There is an error","verifyotp.exception.001":"Incorrect captcha","generateotp.exception.001":"Captcha is still valid","onlineregistrationdraft.verifyotp.exception.001":"Incorrect otp","login.verifyotp.exception.001":"Incorrect captcha","iam.user.exception.004":"User status unlocked","iam.user.exception.003":"role is mandatory","iam.userglobal.exception.003":"name is mandatory","iam.userglobal.exception.004":"email is mandatory","iam.userglobal.exception.005":"mobile phone is mandatory","iam.userglobal.exception.006":"user is not locked","customerhub.calendar.exception.003":"start date cannot greater than end date","iam.systemparameter.exception.006":"system parameter login auth type cannot be changed while any user still exists"}'),J={id:JSON.parse('{"iam.application.exception.001":"User sudah terdaftar","iam.application.exception.002":"User tidak ditemukan","iam.application.exception.003":"Password salah","iam.application.exception.004":"Alamat IP tidak diizinkan","iam.application.exception.005":"Token kadaluarsa","iam.external.application.exception.001":"User sudah terdaftar","iam.external.application.exception.002":"User tidak ditemukan","iam.forgotpassword.exception.001":"Email user salah","iam.forgotpassword.exception.002":"User tidak ditemukan","iam.user.exception.001":"User sudah terdaftar","iam.user.exception.002":"User tidak ditemukan","iam.userglobalapplication.exception.001":"User tidak ditemukan","iam.userglobalapplication.exception.002":"User salah","iam.userlogin.exception.001":"User terkunci","iam.userlogin.exception.002":"User tidak ditemukan","iam.userlogin.exception.003":"User atau kata sandi salah","iam.userlogin.exception.004":"User tidak aktif","iam.userlogin.exception.005":"User masih login","iam.changepassword.exception.001":"Kata sandi lama salah","iam.changepassword.exception.002":"Ketentuan kata sandi salah","iam.changepassword.exception.003":"Kata sandi baru tidak sesuai. Ulangi kata sandi baru","iam.changepassword.exception.004":"Kata sandi baru sudah pernah digunakan","iam.loginhistory.exception.001":"Tanggal selesai kurang dari tanggal mulai","iam.loginhistory.exception.002":"Tanggal mulai dan tanggal selesai wajib diisi","iam.loginhistory.exception.003":"Kolom wajib diisi","iam.systemparameter.exception.001":"Parameter sistem tidak ditemukan","iam.systemparameter.exception.002":"System parameter minimum password length cannot be greater than maximum password length","iam.systemparameter.exception.003":"System parameter total minimum occurences cannot be greater than minimum password length","iam.systemparameter.exception.004":"Panjang minimum karakter kata sandi tidak boleh lebih besar dari maksimum kata sandi","iam.systemparameter.exception.005":"Password belum sesuai dengan ketentuan","iam.usercorporateglobal.exception.001":"User Perusahaan sudah terdaftar","iam.usercorporateglobal.exception.002":"User Perusahaan tidak ditemukan","iam.usercorporateglobal.exception.003":"User tidak ditemukan","iam.userglobal.exception.001":"User Global already exist","iam.userglobal.exception.002":"User Global not found","ict.usergroup.exception.001":"User Grup sudah terdaftar","ict.usergroup.exception.002":"User Grup tidak ditemukan","ict.usergroup.exception.003":"Daftar User \'User Grup\' tidak ditemukan","ict.usergroup.exception.004":"User \'User Grup\' sudah memiliki User Grup","customerhub.bouserlogin.exception.001":"User Grup tidak terdaftar","customerhub.bouserlogin.exception.002":"User Grup tidak aktif","customerhub.calendar.exception.001":"Kolom Tanggal Mulai dan Tanggal Selesai wajib di isi","customerhub.calendar.exception.002":"Tanggal Mulai tidak bisa lebih besar dari Tanggal Selesai","customerhub.dashboard.asset.exception.001":"File tidak ada","customerhub.connectservice.exception.001":"User sudah terdaftar","customerhub.connectservice.exception.002":"User is admin flag must be same with channel is admin flag","customerhub.portalotp.exception.001":"ID tidak terdaftar","customerhub.portalotp.exception.002":"Akses Terlarang","customerhub.user.exception.001":"User sudah terdaftar","customerhub.user.exception.002":"Pengguna tidak ditemukan","customerhub.user.exception.003":"User bukan Admin","customerhub.userlogin.exception.001":"User Grup tidak terdaftar","customerhub.userlogin.exception.002":"User Grup tidak aktif","customerhub.userlogin.exception.003":"Perusahaan tidak aktif","workflow.exception.001":"Unique key exist","workflow.exception.002":"Pending task not exist or already rejected or approved","workflow.exception.003":"User bukan Approver","jwtverification.exception.001":"Sesi anda sudah berakhir","successAddGroup":"Berhasil Menambahkan Kelompok","successAddEvents":"Berhasil Menambahkan Agenda","successAddUser":"Berhasil Menambahkan Pengguna","successEditEvents":"Berhasil Mengubah Agenda","successEditGroup":"Berhasil Mengubah Kelompok","successEditUser":"Berhasil Mengubah Pengguna","successDeleteEvents":"Berhasil Menghapus Agenda","successDeleteGroup":"Berhasil Menghapus Kelompok","successDeleteUser":"Berhasil Menghapus Pengguna","changePasswordSuccess":"Kata sandi berhasil diganti","approveTaskSuccess":"Berhasil menyetujui permintaan.","rejectTaskSuccess":"Berhasil menolak permintaan.","connectServiceError":"Data yang Anda masukkan salah. Harap coba lagi.","connectServiceSuccess":"Layanan berikut telah berhasil dihubungkan","err_default":"Terjadi kesalahan","verifyotp.exception.001":"Verifikasi captcha salah","generateotp.exception.001":"Captcha masih berlaku","onlineregistrationdraft.verifyotp.exception.001":"Verifikasi otp salah","login.verifyotp.exception.001":"Verifikasi captcha salah","iam.user.exception.004":"Status pengguna tidak terkunci","iam.user.exception.003":"peran wajib diisi","iam.userglobal.exception.003":"nama wajib diisi","iam.userglobal.exception.004":"email wajib diisi","iam.userglobal.exception.005":"nomor telfon wajib diisi","iam.userglobal.exception.006":"pengguna tidak terkunci","customerhub.calendar.exception.003":"tanggal mulai tidak boleh lebih besar dari tanggal akhir","iam.systemparameter.exception.006":"jenis auth login parameter sistem tidak dapat diubah saat pengguna mana pun masih ada"}'),en:q},K=N.getState().clearAuth,X=(0,i.createStandaloneToast)().toast,Y="unauthorized-toast",Q="error-toast",$={variant:"top-accent",position:"top",status:"error",duration:8e3,isClosable:!0};H().interceptors.response.use(void 0,(function(e){var n,t,o,i,r,a,s,l,d,c=_.b.getState().locale||V.WZ,u=(null===(n=e.response)||void 0===n?void 0:n.data.message)||"",x=null!==(t=e.response)&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.moduleName?"".concat(null===(i=e.response)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.moduleName,".").concat(u):u;401===(null===(a=e.response)||void 0===a?void 0:a.status)&&u?(K(),X.isActive(Y)||X((0,m.Z)((0,m.Z)({},$),{},{id:Y,description:null!==(l=J[c][x])&&void 0!==l?l:x}))):null!==(s=e.response)&&void 0!==s&&s.data.message&&!X.isActive(Q)&&X((0,m.Z)((0,m.Z)({id:Q},$),{},{description:null!==(d=J[c][x])&&void 0!==d?d:x}))}));var ee=function(e){var n=e.url,t=e.params,o=e.headers,i=e.data,r=e.method,a=void 0===r?O:r,s=e.callback;return H()(n,{params:t,headers:o,data:i,method:a}).then((function(e){return s&&s(e),(0,m.Z)({headers:null===e||void 0===e?void 0:e.headers},e.data)}))},ne="application/json",te={Accept:ne,"Content-Type":ne},oe=N.getState().setToken,ie=function(){var e=JSON.parse(localStorage.getItem("auth")||JSON.stringify({state:L})).state;return(0,m.Z)((0,m.Z)({},te),{},{Authorization:"Bearer ".concat(e.token),companyId:e.companyId||""})},re=function(){var e=(0,k.Z)(F().mark((function e(n){var t,o,i,r=arguments;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:"POST",o=r.length>2?r[2]:void 0,i=r.length>3?r[3]:void 0,e.abrupt("return",ee({url:"".concat(E,"/secured/").concat(n),params:o,headers:ie(),data:i,method:t,callback:function(e){var n,t=null===e||void 0===e||null===(n=e.headers)||void 0===n?void 0:n.access_token;t&&oe(t)}}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ae=function(e){var n=e.path,t=e.method,o=void 0===t?O:t,i=e.params,r=e.body,a=e.isReady,s=void 0===a||a,l=e.refreshInterval,d=e.isImmutable,c=void 0===d||d,u=e.shouldRetryOnError,x=void 0!==u&&u,p=G()(s?[n,o,i,r]:null,re,(0,m.Z)((0,m.Z)({refreshInterval:l},c?R:void 0),{},{shouldRetryOnError:x})),h=p.data,g=p.error;return{data:h,isLoading:!g&&!h,isError:g,mutate:p.mutate}},se=function(e){return re("usergroup/add","POST","",e)},le=function(e){return re("".concat("usergroup/delete","/").concat(e),"POST")},de=function(e){return re("usergroup/edit","POST","",e)},ce="usergroupview",ue=function(e){var n=e.userManagementGroups,t=e.cellDelete;return(0,j.jsxs)(i.Box,{children:[(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.500",fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"group"})}),(0,j.jsx)(i.Text,{fontWeight:700,fontSize:16,children:n?n[null!==t&&void 0!==t?t:0].name:""})]}),(0,j.jsxs)(i.Box,{mt:4,children:[(0,j.jsx)(i.Text,{color:"gray.500",fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"menu"})}),(0,j.jsx)(i.Flex,{flexWrap:"wrap",mt:3,children:n?n[null!==t&&void 0!==t?t:0].details.menuList.map((function(e){return(0,j.jsx)(i.Box,{backgroundColor:"white",color:"orange.500",borderWidth:1,borderColor:"orange.500",borderRadius:4,mr:1,px:2,py:1,my:1,children:(0,j.jsxs)(i.Text,{fontSize:12,children:[e.name," ",e.viewOnly&&" (Read-Only)"]})},e.id)})):""})]})]})},me=function(e){var n,t,o,a,s=e.row,l=e.handleEditOpen,d=e.setCellDelete,c=e.id;return(0,j.jsxs)(i.Flex,{direction:"column",display:{base:"flex",md:"none"},flex:1,children:[(0,j.jsx)(i.Text,{fontSize:"14px",color:"gray.600",my:2,children:"Menu"}),(0,j.jsxs)(i.Flex,{alignItems:"center",flex:1,wrap:"wrap",mb:1,children:[null===(n=s.original.details)||void 0===n?void 0:n.menuList.slice(0,(null===(t=s.original.details)||void 0===t?void 0:t.menuList.length)>3?3:null===(o=s.original.details)||void 0===o?void 0:o.menuList.length).map((function(e){return(0,j.jsx)(i.Box,{backgroundColor:"white",color:"orange.500",borderWidth:1,borderColor:"orange.500",borderRadius:4,mr:1,px:2,py:1,my:1,children:(0,j.jsxs)(i.Text,{fontSize:12,children:[e.name,e.viewOnly&&" (Read-Only)"]})},e.id)})),(null===(a=s.original.details)||void 0===a?void 0:a.menuList.length)>3&&(0,j.jsx)(i.Button,{id:"".concat(c,"-limit-showing-menu-btn"),variant:"unstyled",_focus:{boxShadow:"none"},p:0,children:(0,j.jsx)(i.Box,{backgroundColor:"orange.500",color:"white",borderWidth:1,borderColor:"orange.500",borderRadius:4,mr:1,px:2,py:1,children:(0,j.jsx)(i.Text,{fontSize:12,children:"..."})})})]}),(0,j.jsxs)(i.Flex,{justifyContent:"flex-end",alignItems:"center",wrap:"wrap",my:1,flex:1,children:[(0,j.jsx)(i.Button,{id:"".concat(c,"-table-row-").concat(s.index,"-edit-btn"),p:0,variant:"unstyled",_focus:{boxShadow:"none"},ml:4,onClick:function(){return l(null===s||void 0===s?void 0:s.index)},children:(0,j.jsx)(i.Box,{color:"gray.900",fontWeight:"bold",children:(0,j.jsx)(i.Text,{fontSize:14,children:(0,j.jsx)(r.FormattedMessage,{id:"editGroup"})})})}),(0,j.jsx)(i.Button,{id:"".concat(c,"-table-row-").concat(s.index,"-delete-btn"),p:0,variant:"unstyled",_focus:{boxShadow:"none"},ml:4,children:(0,j.jsx)(i.Box,{color:"gray.900",fontWeight:"bold",onClick:function(){return d(null===s||void 0===s?void 0:s.index)},children:(0,j.jsx)(i.Text,{fontSize:14,children:(0,j.jsx)(r.FormattedMessage,{id:"deleteGroup"})})})})]})]})},xe=t(4790),pe=t(9016),he=t(5987),ge=function(e){var n=e.label,t=e.errorText,o=e.errorTextColor,r=e.helperText,a=e.helperTextColor,s=e.isInvalid,l=e.isRequired,d=e.children;return(0,j.jsxs)(i.FormControl,{isInvalid:s,isRequired:l,children:[(0,j.jsx)(i.Flex,{alignItems:"start",children:n&&(0,j.jsx)(i.FormLabel,{fontWeight:"bold",children:n})}),d,t&&(0,j.jsx)(i.FormErrorMessage,{color:o,children:t}),r&&(0,j.jsx)(i.FormHelperText,{color:a,children:r})]})},fe=["label","errorText","errorTextColor","helperText","helperTextColor","isInvalid","isRequired","id"],je=(0,x.forwardRef)((function(e,n){var t=e.label,o=e.errorText,r=e.errorTextColor,a=e.helperText,s=e.helperTextColor,l=e.isInvalid,d=e.isRequired,c=e.id,u=(0,he.Z)(e,fe);return(0,j.jsx)(ge,{label:t,errorText:o,errorTextColor:r,helperText:a,helperTextColor:s,isInvalid:l,isRequired:d,children:(0,j.jsx)(i.Input,(0,m.Z)((0,m.Z)({id:c,ref:n,focusBorderColor:"orange.500",borderColor:"orange.100",_hover:{borderColor:"orange.100"}},u),{},{isRequired:d}))})})),be=t(8310),ve=be.object({name:be.string().required(),id:be.string(),code:be.string().required()}),ye=function(e){var n=e.id,t=(0,r.useIntl)(),o=(0,pe.useForm)({mode:"onChange",resolver:(0,xe.X)(ve)}),a=o.register,s=o.handleSubmit,l=o.getValues,d=o.setValue,c=o.formState,u=c.isDirty,p=c.isValid,h=W(),g=h.activeStep,f=h.setActiveSteps,b=h.setFormGroup,v=h.formGroup;return(0,x.useEffect)((function(){var e,n;null!==v&&(d("name",null!==(e=null===v||void 0===v?void 0:v.name)&&void 0!==e?e:"",{shouldDirty:!0,shouldValidate:!0}),d("code",null!==(n=null===v||void 0===v?void 0:v.code)&&void 0!==n?n:"",{shouldDirty:!0,shouldValidate:!0}))}),[v,d]),(0,j.jsxs)(i.Flex,{mt:10,flexDir:"column",gap:4,children:[(0,j.jsx)(je,(0,m.Z)((0,m.Z)({id:"".concat(n,"-step-1-form-input-group-id")},a("code")),{},{label:t.formatMessage({id:"groupId"}),type:"text",isDisabled:""!==(null===v||void 0===v?void 0:v.code),placeholder:t.formatMessage({id:"groupIdPlaceholder"})})),(0,j.jsx)(je,(0,m.Z)((0,m.Z)({id:"".concat(n,"-step-1-form-input-group-name")},a("name")),{},{label:t.formatMessage({id:"group"}),type:"text",placeholder:t.formatMessage({id:"groupPlaceholder"})})),(0,j.jsx)(i.Button,{id:"".concat(n,"-step-1-next-btn"),w:"full",borderColor:"gray.400",rounded:0,isDisabled:!u||!p,onClick:s((function(){var e=l();b((0,m.Z)((0,m.Z)({},v),e)),f(g+1)})),children:(0,j.jsx)(r.FormattedMessage,{id:"next"})})]})},we=t(2982),Se=function(e){return void 0===e?"":e.split(" ").join("-").toLowerCase()},ke=function(e){return void 0===e?"":e.split(".").join("-").toLowerCase()},Ce=function(e){var n=e.label,t=e.id,o=(0,i.useCheckbox)(e),r=o.state,a=o.getCheckboxProps,s=o.getInputProps,l=o.getLabelProps,d=o.htmlProps;return(0,j.jsxs)(i.chakra.label,(0,m.Z)((0,m.Z)({display:"flex",flexDirection:"row",alignItems:"center",gridColumnGap:2,cursor:"pointer"},d),{},{id:"".concat(t,"-form-input-checkbox-").concat(Se(n)),children:[(0,j.jsx)("input",(0,m.Z)((0,m.Z)({id:"".concat(t,"-form-input-").concat(Se(n))},s()),{},{hidden:!0})),(0,j.jsx)(i.Flex,(0,m.Z)((0,m.Z)({id:"".concat(t,"-form-checkbox-").concat(Se(n)),alignItems:"center",justifyContent:"center",border:"2px solid",borderColor:"gray.400",w:6,h:6,rounded:"full"},a()),{},{children:r.isChecked&&(0,j.jsx)(i.Icon,{w:6,h:6,as:p.FJM,color:"orange.500"})})),(0,j.jsx)(i.Text,(0,m.Z)((0,m.Z)({fontWeight:700,fontSize:16,pl:2},l()),{},{children:n}))]}))},Fe="usergroupview/menu",Me="usergroupview/userlist/",Ie=["MNU_CUST_HUB_INCOMEEXPENDITURE","MNU_CUST_HUB_PLANPROGNOSIS","MNU_CUST_HUB_BIDDINGINTEREST","MNU_CUST_HUB_CORPORATEBRANCH"],Te=function(e){var n,t=e.id,o=W(),a=o.setFormGroup,s=o.formGroup,l=function(e){return ae({path:Me+e,isReady:!(arguments.length>1&&void 0!==arguments[1])||arguments[1],method:O})}(s.code),d=l.data;(0,x.useEffect)((function(){var e,n=null===d||void 0===d||null===(e=d.content)||void 0===e?void 0:e.map((function(e){return e.id}));a((0,m.Z)((0,m.Z)({},s),{},{userList:n}))}),[d]);var c=s.menuList,u=function(e){return ae({path:Fe,isReady:!(arguments.length>1&&void 0!==arguments[1])||arguments[1],params:e,refreshInterval:1e4,method:O})}(),p=u.data,h=function(e){e.currentTarget.checked?a((0,m.Z)((0,m.Z)({},s),{},{menuList:[].concat((0,we.Z)(c),[JSON.parse(e.currentTarget.value)])})):a((0,m.Z)((0,m.Z)({},s),{},{menuList:c.filter((function(n){return n.id!==JSON.parse(e.currentTarget.value).id}))}))},g=function(e,n){var t=c.find((function(n){return n.id===e.id}));t&&(t.viewOnly=n,a((0,m.Z)({},s)))},f=function(e){return e.hasAccess?JSON.stringify(e):JSON.stringify((0,m.Z)((0,m.Z)({},e),{},{features:[]}))},b=function(e,n){var o,l,d;return e.hasAccess?(0,j.jsx)(i.Flex,{children:(0,j.jsxs)(i.ButtonGroup,{isAttached:!0,w:"full",children:[(0,j.jsx)(i.Button,{id:"".concat(t,"-step-2-form-").concat(Se(e.name),"-view-only-btn"),w:"50%",variant:null!==(l=c.find((function(n){return n.id===e.id})))&&void 0!==l&&l.viewOnly?"solid":"outline",onClick:function(){return g(e,!0)},disabled:n,children:"Hanya Lihat"}),(0,j.jsx)(i.Button,{id:"".concat(t,"-step-2-form-").concat(Se(e.name),"-full-access-btn"),w:"50%",variant:null!==(d=c.find((function(n){return n.id===e.id})))&&void 0!==d&&d.viewOnly?"outline":"solid",onClick:function(){return g(e,!1)},disabled:n,children:"Full Akses"})]})}):(0,j.jsxs)(i.Flex,{direction:"column",gap:4,children:[(0,j.jsx)(i.Text,{opacity:n?"0.3":"1",children:"Pilih widget yang akan ditampilkan"}),(0,j.jsx)(i.Grid,{templateColumns:"repeat(2, 1fr)",columnGap:6,rowGap:2,children:null===(o=e.features)||void 0===o?void 0:o.map((function(o){var l,d;return(0,j.jsx)(i.Checkbox,{id:"".concat(t,"-step-2-form-checkbox-").concat(ke(o.name)),value:JSON.stringify({id:o.id,name:o.name}),onChange:function(n){return function(e,n){var t=c.find((function(n){return n.id===e.id}));null!==t&&void 0!==t&&t.features&&(n.currentTarget.checked?t.features=[].concat((0,we.Z)(t.features),[JSON.parse(n.currentTarget.value)]):t.features=t.features.filter((function(e){return e.id!==JSON.parse(n.currentTarget.value).id})),a((0,m.Z)({},s)))}(e,n)},isChecked:null===(l=c.find((function(n){return n.id===e.id})))||void 0===l||null===(d=l.features)||void 0===d?void 0:d.some((function(e){return e.id===o.id})),disabled:n,colorScheme:"orange",children:(0,j.jsx)(i.Text,{children:(0,j.jsx)(r.FormattedMessage,{id:o.name})})},o.id)}))})]})};return(0,j.jsxs)(i.Flex,{mt:8,gap:4,flexDir:"column",maxHeight:"450px",overflow:"scroll",children:[(0,j.jsx)(i.Text,{fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"chooseGroupMenu"})}),p?null===p||void 0===p||null===(n=p.content)||void 0===n?void 0:n.map((function(e){if(!Ie.find((function(n){return null===e||void 0===e?void 0:e.id.includes(n)})))return(0,j.jsxs)(i.Flex,{flexDirection:"column",gap:4,children:[(0,j.jsx)(Ce,{id:"".concat(t,"-step-2"),value:f(e),onChange:h,isChecked:c.some((function(n){return n.id===e.id})),label:e.name}),b(e,!c.some((function(n){return n.id===e.id}))),(0,j.jsx)("hr",{})]},e.id)})):(0,j.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",children:(0,j.jsx)(i.Spinner,{size:"lg"})}),(0,j.jsx)(i.Text,{fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"chooseGroupMenuNote"})})]})},Ue=be.object({email:be.string().email().required(),identifier:be.string().required(),mobilePhone:be.string().required(),name:be.string().required(),nik:be.string()}),Ze=function(e){var n=e.id,t=(0,r.useIntl)(),o=(0,pe.useForm)({mode:"onChange",resolver:(0,xe.X)(Ue)}),a=o.register,s=o.handleSubmit,l=o.getValues,d=o.setValue,c=o.formState,u=c.isDirty,p=c.isValid,h=W(),g=h.activeStep,f=h.setActiveSteps,b=h.setFormUser,v=h.formUser;return(0,x.useEffect)((function(){var e,n,t,o,i;null!==v&&(d("email",null!==(e=null===v||void 0===v?void 0:v.email)&&void 0!==e?e:"",{shouldDirty:!0,shouldValidate:!0}),d("identifier",null!==(n=null===v||void 0===v?void 0:v.identifier)&&void 0!==n?n:"",{shouldDirty:!0,shouldValidate:!0}),d("mobilePhone",null!==(t=null===v||void 0===v?void 0:v.mobilePhone)&&void 0!==t?t:"",{shouldDirty:!0,shouldValidate:!0}),d("name",null!==(o=null===v||void 0===v?void 0:v.name)&&void 0!==o?o:"",{shouldDirty:!0,shouldValidate:!0}),d("nik",null!==(i=null===v||void 0===v?void 0:v.nik)&&void 0!==i?i:"",{shouldDirty:!0,shouldValidate:!0}))}),[v,d]),(0,j.jsxs)(i.Flex,{mt:10,flexDir:"column",gap:4,children:[(0,j.jsx)(je,(0,m.Z)((0,m.Z)({id:"".concat(n,"-step-1-form-input-name")},a("name")),{},{label:t.formatMessage({id:"nameKtp"}),type:"text",placeholder:t.formatMessage({id:"namePlaceholder"}),isRequired:!0})),(0,j.jsx)(je,(0,m.Z)((0,m.Z)({id:"".concat(n,"-step-1-form-input-nik")},a("nik")),{},{label:t.formatMessage({id:"nik"}),type:"text",placeholder:t.formatMessage({id:"nikPlaceholder"})})),(0,j.jsx)(je,(0,m.Z)((0,m.Z)({id:"".concat(n,"-step-1-form-input-user-id")},a("identifier")),{},{label:t.formatMessage({id:"userIdLoginLabel"}),type:"text",isDisabled:void 0!==(null===v||void 0===v?void 0:v.identifier),placeholder:t.formatMessage({id:"userIdLoginPlaceholder"}),isRequired:!0})),(0,j.jsx)(je,(0,m.Z)((0,m.Z)({id:"".concat(n,"-step-1-form-input-email")},a("email")),{},{label:t.formatMessage({id:"email"}),type:"email",placeholder:t.formatMessage({id:"emailPlaceholder"}),isRequired:!0})),(0,j.jsx)(je,(0,m.Z)((0,m.Z)({id:"".concat(n,"-step-1-form-input-phone")},a("mobilePhone")),{},{label:t.formatMessage({id:"phone"}),type:"text",placeholder:t.formatMessage({id:"phonePlaceholder"}),isRequired:!0})),(0,j.jsx)(i.Spacer,{}),(0,j.jsx)(i.Button,{id:"".concat(n,"-step-1-next-btn"),w:"full",borderColor:"gray.400",rounded:0,isDisabled:!u||!p,onClick:s((function(){var e=l();b((0,m.Z)((0,m.Z)({},v),e)),f(g+1)})),children:(0,j.jsx)(r.FormattedMessage,{id:"next"})})]})},Be="usermanagementview/usergroup",We=function(e){var n,t,o=e.id,a=function(e){return ae({path:Be,isReady:!(arguments.length>1&&void 0!==arguments[1])||arguments[1],params:e,refreshInterval:1e4,method:O})}({direction:"DESC",page:0,sortBy:"name",size:100}),s=a.data,l=W(),d=l.activeStep,c=l.setActiveSteps,u=l.setFormUser,p=l.formUser,h=null===s||void 0===s||null===(n=s.content)||void 0===n?void 0:n.find((function(e){return e.id===(null===p||void 0===p?void 0:p.userGroupId)})),g=h?"".concat(null===h||void 0===h?void 0:h.id,":").concat(null===h||void 0===h?void 0:h.admin,":").concat(null===h||void 0===h?void 0:h.name):null===p||void 0===p?void 0:p.userGroupId;return(0,x.useEffect)((function(){u((0,m.Z)((0,m.Z)({},p),{},{userGroupId:g}))}),[g]),(0,j.jsxs)(i.Flex,{mt:8,gap:4,flexDir:"column",maxH:"70vh",children:[(0,j.jsx)(i.Text,{fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"chooseGroup"})}),(0,j.jsx)(i.Box,{overflowY:"scroll",children:(0,j.jsx)(i.RadioGroup,{onChange:function(e){u((0,m.Z)((0,m.Z)({},p),{},{userGroupId:e}))},value:null===p||void 0===p?void 0:p.userGroupId,gap:6,display:"flex",flexDir:"column",children:s?null===s||void 0===s||null===(t=s.content)||void 0===t?void 0:t.map((function(e){return(0,j.jsx)(i.Box,{p:4,border:"1px solid",borderColor:"gray.200",children:(0,j.jsx)(i.Radio,{id:"".concat(o,"-step-2-form-radio-").concat(Se(e.name)),value:"".concat(e.id,":").concat(e.admin,":").concat(e.name),size:"md",children:e.name})},"checkbox-".concat(e.name))})):(0,j.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",children:(0,j.jsx)(i.Spinner,{size:"lg"})})})}),(0,j.jsxs)(i.Flex,{gap:6,mt:10,children:[(0,j.jsx)(i.Button,{id:"".concat(o,"-step-2-back-btn"),w:"full",borderColor:"gray.400",rounded:0,mb:4,onClick:function(){return c(d-1)},children:(0,j.jsx)(r.FormattedMessage,{id:"back"})}),(0,j.jsx)(i.Button,{id:"".concat(o,"-step-2-next-btn"),w:"full",borderColor:"gray.400",rounded:0,isDisabled:!(null!==p&&void 0!==p&&p.userGroupId),onClick:function(){return c(d+1)},children:(0,j.jsx)(r.FormattedMessage,{id:"next"})})]})]})},De=function(e){var n,t,o=e.id,a=W(),s=a.activeStep,l=a.setActiveSteps,d=a.formUser,c=a.setFormUser;return(0,j.jsxs)(i.Flex,{mt:8,gap:4,flexDir:"column",children:[(0,j.jsx)(i.Text,{fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"chooseRole"})}),(0,j.jsx)(i.Flex,{flexDir:"column",gap:6,children:(0,j.jsx)(i.RadioGroup,{onChange:function(e){return c((0,m.Z)((0,m.Z)({},d),{},{role:e}))},value:null!==(n=null===d||void 0===d?void 0:d.role)&&void 0!==n?n:"",children:"true"===(null===d||void 0===d||null===(t=d.userGroupId)||void 0===t?void 0:t.split(":")[1])?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(i.Radio,{id:"".concat(o,"-step-3-form-radio-user-role-maker-approver"),textTransform:"uppercase",value:"MAKER_APPROVER",size:"md",children:[(0,j.jsx)(r.FormattedMessage,{id:"maker"})," ",(0,j.jsx)(r.FormattedMessage,{id:"and"})," ",(0,j.jsx)(r.FormattedMessage,{id:"approver"})]}),(0,j.jsx)(i.Text,{mt:1,color:"gray.500",pl:6,fontWeight:500,children:(0,j.jsx)(r.FormattedMessage,{id:"approverNote"})})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.Radio,{id:"".concat(o,"-step-3-form-radio-user-role-maker"),textTransform:"uppercase",value:"MAKER",size:"md",children:(0,j.jsx)(r.FormattedMessage,{id:"maker"})}),(0,j.jsx)(i.Text,{mt:1,mb:8,color:"gray.500",pl:6,fontWeight:500,children:(0,j.jsx)(r.FormattedMessage,{id:"makerNote"})})]})})}),(0,j.jsxs)(i.Flex,{gap:6,mt:10,children:[(0,j.jsx)(i.Button,{id:"".concat(o,"-step-3-back-btn"),w:"full",borderColor:"gray.400",rounded:0,mb:4,onClick:function(){return l(s-1)},children:(0,j.jsx)(r.FormattedMessage,{id:"back"})}),(0,j.jsx)(i.Button,{id:"".concat(o,"-step-3-next-btn"),w:"full",borderColor:"gray.400",rounded:0,isDisabled:!(null!==d&&void 0!==d&&d.role),onClick:function(){return l(s+1)},children:(0,j.jsx)(r.FormattedMessage,{id:"next"})})]})]})},Pe=function(e){e.id;var n,t,o,a,s,l,d,c,u=W().formUser;return(0,j.jsx)(i.Box,{children:(0,j.jsxs)(i.Flex,{mt:8,gap:4,flexDir:"column",children:[(0,j.jsx)(i.Text,{fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"userCreateConfirmation"})}),(0,j.jsxs)(i.Flex,{flexDir:"column",p:4,border:"1px solid",borderColor:"gray.200",gap:"4",children:[(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.400",children:(0,j.jsx)(r.FormattedMessage,{id:"name"})}),(0,j.jsx)(i.Text,{color:"black",fontWeight:700,children:null!==(n=null===u||void 0===u?void 0:u.name)&&void 0!==n?n:""})]}),(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.400",children:(0,j.jsx)(r.FormattedMessage,{id:"nik"})}),(0,j.jsx)(i.Text,{color:"black",fontWeight:700,children:null!==(t=null===u||void 0===u?void 0:u.nik)&&void 0!==t?t:""})]}),(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.400",children:(0,j.jsx)(r.FormattedMessage,{id:"group"})}),(0,j.jsx)(i.Text,{color:"black",fontWeight:700,children:null!==(o=null===u||void 0===u||null===(a=u.userGroupId)||void 0===a?void 0:a.split(":")[2])&&void 0!==o?o:""})]}),(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.400",children:(0,j.jsx)(r.FormattedMessage,{id:"role"})}),(0,j.jsx)(i.Text,{color:"black",fontWeight:700,children:null!==(s=null===u||void 0===u?void 0:u.role)&&void 0!==s?s:""})]}),(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.400",children:(0,j.jsx)(r.FormattedMessage,{id:"userIdLoginLabel"})}),(0,j.jsx)(i.Text,{color:"black",fontWeight:700,children:null!==(l=null===u||void 0===u?void 0:u.identifier)&&void 0!==l?l:""})]}),(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.400",children:(0,j.jsx)(r.FormattedMessage,{id:"email"})}),(0,j.jsx)(i.Text,{color:"black",fontWeight:700,children:null!==(d=null===u||void 0===u?void 0:u.email)&&void 0!==d?d:""})]}),(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.400",children:(0,j.jsx)(r.FormattedMessage,{id:"phone"})}),(0,j.jsx)(i.Text,{color:"black",fontWeight:700,children:null!==(c=null===u||void 0===u?void 0:u.mobilePhone)&&void 0!==c?c:""})]})]}),(0,j.jsx)(i.Text,{fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"userCreateConfirmationNote"})})]})})},ze=function(e){var n=e.id;return[{label:"1",content:(0,j.jsx)(ye,{id:n})},{label:"2",content:(0,j.jsx)(Te,{id:n})}]},Ge=function(e){var n,t,a,s=e.id,c=(0,r.useIntl)(),u=(0,i.useMediaQuery)("(max-width: 768px)"),h=(0,o.Z)(u,1)[0],g=(0,x.useState)(""),f=(0,o.Z)(g,2),b=f[0],v=f[1],y=(0,x.useState)(null),k=(0,o.Z)(y,2),C=k[0],F=k[1],I=(0,x.useState)(null),T=(0,o.Z)(I,2),U=T[0],Z=T[1],B=(0,x.useState)(!1),z=(0,o.Z)(B,2),G=z[0],E=z[1],R=(0,x.useState)(!1),A=(0,o.Z)(R,2),H=A[0],L=A[1],N=(0,x.useState)([]),_=(0,o.Z)(N,2),V=_[0],q=_[1],J=(0,x.useState)(0),K=(0,o.Z)(J,2),X=K[0],Y=K[1],Q=(0,x.useState)(10),$=(0,o.Z)(Q,2),ee=$[0],ne=$[1],te=function(e){return ae({params:e,isReady:!(arguments.length>1&&void 0!==arguments[1])||arguments[1],method:O,path:ce,refreshInterval:1e4})}({direction:null!==(n=V[0])&&void 0!==n&&n.desc?"DESC":null!=="ASC"?"ASC":"DESC",size:ee,page:null!==X&&void 0!==X?X:0,sortBy:null!==(t=null===(a=V[0])||void 0===a?void 0:a.id)&&void 0!==t?t:"name",searchValue:b}),oe=te.data,ie=te.mutate,re=W(),xe=re.setFormGroup,pe=re.formGroup,he=re.setActiveSteps,ge=re.resetFormGroup,fe=null===oe||void 0===oe?void 0:oe.content,je=(0,x.useCallback)((function(e){var n=e.sortBy,t=e.pageSize,o=e.pageIndex;q(n),Y(o),ne(t)}),[]),be=P(),ve=function(e){var n=fe;n&&(xe((0,m.Z)((0,m.Z)({},n[e]),{},{code:fe[e].id,menuList:n[e].details.menuList})),Z(fe[e].id))},ye=function(){return Z(null)},we=function(){return E(!1)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.Box,{children:fe?(0,j.jsx)(i.Box,{children:(0,j.jsxs)(i.Box,{children:[(0,j.jsxs)(i.Flex,{direction:{base:"column",md:"row"},justifyContent:"space-between",alignItems:"center",children:[(0,j.jsx)(S,{id:s,value:b,onChange:function(e){return v(e)},placeHolder:c.formatMessage({id:"searchGroup"})}),(0,j.jsx)(i.Button,{id:"".concat(s,"-create-group-btn"),leftIcon:(0,j.jsx)(p.wEH,{}),onClick:function(){return E(!0)},children:(0,j.jsx)(i.Text,{fontWeight:400,children:(0,j.jsx)(r.FormattedMessage,{id:"createGroup"})})})]}),fe&&fe.length>0?(0,j.jsx)(w,{id:s,onSort:je,totalPage:null===oe||void 0===oe?void 0:oe.totalRecord,columns:h?d:l,tableData:fe,defaultItemPerPage:ee,defaultPageNumber:X,handleDeleteItem:F,handleEditItem:ve,renderRowSubComponent:function(e){return(0,j.jsx)(me,{id:s,row:e,handleEditOpen:ve,setCellDelete:F})}}):(0,j.jsx)(i.Flex,{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"column",minH:"50vh",fontWeight:400,fontSize:16,children:(0,j.jsxs)(i.Text,{color:"gray.900",textAlign:"center",my:8,children:["Anda belum memiliki group.",(0,j.jsx)("br",{}),"Silakan membuat group terlebih dahulu."]})})]})}):(0,j.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",minH:"50vh",children:(0,j.jsx)(i.Spinner,{width:32,height:32})})}),(0,j.jsx)(M,{id:s,cellSelect:null!==C&&void 0!==C?C:null,title:c.formatMessage({id:"deleteGroup"}),description:c.formatMessage({id:"deleteGroupConfirmation"}),note:c.formatMessage({id:"deleteGroupNote"}),setCellSelect:F,onDelete:function(){return L(!0),le(function(e){var n;return fe?null===(n=fe[e])||void 0===n?void 0:n.id:""}(null!==C&&void 0!==C?C:0)).then((function(){return L(!1),be({status:"success",description:c.formatMessage({id:"successDeleteGroup"})}),ie(),!0})).catch((function(){return L(!1),!0}))},children:(0,j.jsx)(ue,{cellDelete:null!==C&&void 0!==C?C:0,userManagementGroups:null!==fe&&void 0!==fe?fe:[]})}),(0,j.jsx)(D,{id:"".concat(s,"-edit-group"),onClose:ye,isOpen:null!==U,title:c.formatMessage({id:"editGroup"}),onComplete:function(){L(!0);var e=(0,m.Z)((0,m.Z)({},pe),{},{id:U,description:""});de(e).then((function(){ie(),be({status:"success",description:c.formatMessage({id:"successEditGroup"})}),he(0),L(!1),ye(),ge()})).catch((function(){L(!1)}))},steps:ze({id:"".concat(s,"-edit-group-modal")}),isLoading:H}),(0,j.jsx)(D,{id:"".concat(s,"-create-group"),isOpen:G,onClose:we,title:c.formatMessage({id:"createGroup"}),onComplete:function(){L(!0);var e=(0,m.Z)((0,m.Z)({},pe),{},{userList:[],description:""});se(e).then((function(){ie(),be({status:"success",description:c.formatMessage({id:"successAddGroup"})}),we(),L(!1),he(0),ge()})).catch((function(){L(!1)}))},steps:ze({id:"".concat(s,"-create-group-modal")}),isLoading:H})]})},Ee=function(e){var n=e.cellSelect,t=e.setCellSelect,o=e.children,a=e.onUnlock,s=e.id,l=function(){return t(null)},d=(0,i.useBreakpointValue)({base:"full",md:"sm"}),c=function(){var e=(0,k.Z)(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:if(!e.sent){e.next=4;break}l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)(i.Modal,{id:"".concat(s,"-modal-lock"),isOpen:null!==n,size:d,onClose:l,isCentered:!0,children:[(0,j.jsx)(i.ModalOverlay,{}),(0,j.jsxs)(i.ModalContent,{minH:"md",children:[(0,j.jsx)(i.ModalHeader,{children:(0,j.jsx)(r.FormattedMessage,{id:"unlockUser"})}),(0,j.jsx)(i.ModalCloseButton,{id:"".concat(s,"-modal-lock-close-btn")}),(0,j.jsx)(i.ModalBody,{mt:6,children:(0,j.jsxs)(i.Flex,{direction:"column",gap:"8",children:[(0,j.jsx)(i.Text,{children:(0,j.jsx)(r.FormattedMessage,{id:"unlockNotes"})}),(0,j.jsx)(i.Box,{p:4,border:"1px solid",borderColor:"orange.100",rounded:8,children:o})]})}),(0,j.jsx)(i.ModalFooter,{children:(0,j.jsxs)(i.Flex,{direction:"column",gap:4,w:"full",children:[(0,j.jsx)(i.Button,{id:"".concat(s,"-modal-lock-unlock-btn"),w:"full",bgColor:"orange.500",color:"white",rounded:8,onClick:c,children:(0,j.jsx)(r.FormattedMessage,{id:"unlock"})}),(0,j.jsx)(i.Button,{id:"".concat(s,"-modal-lock-cancel-btn"),w:"full",variant:"outline",borderColor:"orange.500",color:"orange.500",rounded:8,onClick:l,children:(0,j.jsx)(r.FormattedMessage,{id:"cancel"})})]})})]})]})},Oe=function(e){var n=e.cellSelect,t=e.setCellSelect,o=e.children,a=e.onRelease,s=e.id,l=function(){return t(null)},d=(0,i.useBreakpointValue)({base:"full",md:"sm"}),c=function(){var e=(0,k.Z)(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:if(!e.sent){e.next=4;break}l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)(i.Modal,{id:"".concat(s,"-modal-session"),isOpen:null!==n,size:d,onClose:l,isCentered:!0,children:[(0,j.jsx)(i.ModalOverlay,{}),(0,j.jsxs)(i.ModalContent,{minH:"md",children:[(0,j.jsx)(i.ModalHeader,{children:(0,j.jsx)(r.FormattedMessage,{id:"releaseSession"})}),(0,j.jsx)(i.ModalCloseButton,{id:"".concat(s,"-modal-session-close-btn")}),(0,j.jsx)(i.ModalBody,{mt:6,children:(0,j.jsxs)(i.Flex,{direction:"column",gap:"8",children:[(0,j.jsx)(i.Text,{children:(0,j.jsx)(r.FormattedMessage,{id:"releaseSessionNotes"})}),(0,j.jsx)(i.Box,{p:4,border:"1px solid",borderColor:"orange.100",rounded:8,children:o})]})}),(0,j.jsx)(i.ModalFooter,{children:(0,j.jsxs)(i.Flex,{direction:"column",gap:4,w:"full",children:[(0,j.jsx)(i.Button,{id:"".concat(s,"-modal-session-release-session-btn"),w:"full",bgColor:"orange.500",color:"white",rounded:8,onClick:c,children:(0,j.jsx)(r.FormattedMessage,{id:"releaseSession"})}),(0,j.jsx)(i.Button,{id:"".concat(s,"-modal-session-cancel-btn"),w:"full",variant:"outline",borderColor:"orange.500",color:"orange.500",rounded:8,onClick:l,children:(0,j.jsx)(r.FormattedMessage,{id:"cancel"})})]})})]})]})},Re=function(e){return re("usermanagement/add","POST","",e)},Ae=function(e){return re("".concat("usermanagement/delete","/").concat(e),"POST")},He=function(e){return re("usermanagement/edit","POST","",e)},Le="usermanagementview",Ne=function(e){return re("".concat("usermanagement/release","/").concat(e),"POST")},_e=function(e){return re("".concat("usermanagement/unlock","/").concat(e),"POST")},Ve=function(e){var n,t,o,a,s,l=e.userData,d=e.cellSelect;return(0,j.jsxs)(i.Flex,{gap:6,flexDir:"column",children:[(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.500",fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"role"})}),(0,j.jsx)(i.Text,{fontWeight:700,fontSize:16,children:l?null===(n=l[d])||void 0===n?void 0:n.role:""})]}),(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.500",fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"userIdLoginLabel"})}),(0,j.jsx)(i.Text,{fontWeight:700,fontSize:16,children:l?null===(t=l[d])||void 0===t?void 0:t.userId:""})]}),(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.500",fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"corpIdLoginLabel"})}),(0,j.jsx)(i.Text,{fontWeight:700,fontSize:16,children:l?null===(o=l[d])||void 0===o?void 0:o.corporateId:""})]}),(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.500",fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"email"})}),(0,j.jsx)(i.Text,{fontWeight:700,fontSize:16,children:l?null===(a=l[d])||void 0===a?void 0:a.email:""})]}),(0,j.jsxs)(i.Flex,{justify:"space-between",children:[(0,j.jsx)(i.Text,{color:"gray.500",fontWeight:400,fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:"phone"})}),(0,j.jsx)(i.Text,{fontWeight:700,fontSize:16,children:l?null===(s=l[d])||void 0===s?void 0:s.corporateId:""})]})]})},qe=function(e){var n,t,o,r=e.userData,a=e.cellSelect,s=null!==a&&void 0!==a?a:0;return(0,j.jsxs)(i.Flex,{gap:2,flexDir:"column",children:[(0,j.jsx)(i.Flex,{justify:"space-between",children:(0,j.jsx)(i.Text,{fontWeight:700,fontSize:18,children:r?null===(n=r[s])||void 0===n?void 0:n.userId:""})}),(0,j.jsxs)(i.Flex,{gap:"2",children:[(0,j.jsx)(i.Text,{fontWeight:700,fontSize:16,children:r?null===(t=r[s])||void 0===t?void 0:t.name:""}),(0,j.jsx)(i.Text,{fontWeight:400,fontSize:16,color:"gray.400",children:r?null===(o=r[s])||void 0===o?void 0:o.role:""})]})]})},Je=function(e){var n,t,o,a=e.row,s=e.handleEditOpen,l=e.setCellDelete,d=e.id;return(0,j.jsxs)(i.Flex,{direction:"column",display:{base:"flex",md:"none"},flex:1,children:[(0,j.jsxs)(i.Flex,{align:"center",mb:2,children:[(0,j.jsx)(i.Text,{fontSize:"14px",color:"gray.600",w:"50%",minW:120,children:"User ID"}),(0,j.jsx)(i.Text,{fontSize:"14px",color:"gray.900",w:"45%",children:null===(n=a.original)||void 0===n?void 0:n.userId}),(0,j.jsx)(i.Text,{w:10})]}),(0,j.jsxs)(i.Flex,{align:"center",mb:2,children:[(0,j.jsx)(i.Text,{fontSize:"14px",color:"gray.600",w:"50%",minW:120,children:"Email"}),(0,j.jsx)(i.Text,{fontSize:"14px",color:"gray.900",w:"45%",children:null===(t=a.original)||void 0===t?void 0:t.email}),(0,j.jsx)(i.Text,{w:10})]}),(0,j.jsxs)(i.Flex,{align:"center",mb:2,children:[(0,j.jsx)(i.Text,{fontSize:"14px",color:"gray.600",w:"50%",minW:120,children:"No. HP"}),(0,j.jsx)(i.Text,{fontSize:"14px",color:"gray.900",w:"45%",children:null===(o=a.original)||void 0===o?void 0:o.mobilePhone}),(0,j.jsx)(i.Text,{w:10})]}),(0,j.jsxs)(i.Flex,{justifyContent:"flex-end",alignItems:"center",wrap:"wrap",my:1,flex:1,children:[(0,j.jsx)(i.Button,{id:"".concat(d,"-table-row-").concat(a.index,"-edit-btn"),p:0,variant:"unstyled",_focus:{boxShadow:"none"},ml:4,onClick:function(){return s(null===a||void 0===a?void 0:a.index)},children:(0,j.jsx)(i.Box,{color:"gray.900",fontWeight:"bold",children:(0,j.jsx)(i.Text,{fontSize:14,children:(0,j.jsx)(r.FormattedMessage,{id:"editUser"})})})}),(0,j.jsx)(i.Button,{id:"".concat(d,"-table-row-").concat(a.index,"-delete-btn"),p:0,variant:"unstyled",_focus:{boxShadow:"none"},ml:4,onClick:function(){return l(null===a||void 0===a?void 0:a.index)},children:(0,j.jsx)(i.Box,{color:"gray.900",fontWeight:"bold",children:(0,j.jsx)(i.Text,{fontSize:14,children:(0,j.jsx)(r.FormattedMessage,{id:"deleteUser"})})})})]})]})},Ke=function(e){var n,t,o,r=e.userData,a=e.cellSelect;return(0,j.jsxs)(i.Flex,{gap:2,flexDir:"column",children:[(0,j.jsx)(i.Flex,{justify:"space-between",children:(0,j.jsx)(i.Text,{fontWeight:700,fontSize:18,children:r?null===(n=r[a])||void 0===n?void 0:n.userId:""})}),(0,j.jsxs)(i.Flex,{gap:"2",children:[(0,j.jsx)(i.Text,{fontWeight:700,fontSize:16,children:r?null===(t=r[a])||void 0===t?void 0:t.name:""}),(0,j.jsx)(i.Text,{fontWeight:400,fontSize:16,color:"gray.400",children:r?null===(o=r[a])||void 0===o?void 0:o.role:""})]})]})},Xe=function(e){var n=e.id;return[{label:"1",content:(0,j.jsx)(Ze,{id:n})},{label:"2",content:(0,j.jsx)(We,{id:n})},{label:"3",content:(0,j.jsx)(De,{id:n})},{label:"4",content:(0,j.jsx)(Pe,{id:n})}]},Ye=function(e){var n,t,a,s,l=e.id,d=(0,r.useIntl)(),h=(0,i.useMediaQuery)("(max-width: 1077px)"),g=(0,o.Z)(h,1)[0],f=(0,x.useState)(""),b=(0,o.Z)(f,2),v=b[0],y=b[1],k=(0,x.useState)([]),C=(0,o.Z)(k,2),F=C[0],I=C[1],T=(0,x.useState)(0),U=(0,o.Z)(T,2),Z=U[0],B=U[1],z=(0,x.useState)(10),G=(0,o.Z)(z,2),E=G[0],R=G[1],A=(0,x.useState)(null),H=(0,o.Z)(A,2),L=H[0],N=H[1],_=(0,x.useState)(null),V=(0,o.Z)(_,2),q=V[0],J=V[1],K=(0,x.useState)(null),X=(0,o.Z)(K,2),Y=X[0],Q=X[1],$=(0,x.useState)(null),ee=(0,o.Z)($,2),ne=ee[0],te=ee[1],oe=(0,x.useState)(!1),ie=(0,o.Z)(oe,2),re=ie[0],se=ie[1],le=(0,x.useState)(!1),de=(0,o.Z)(le,2),ce=de[0],ue=de[1],me=function(e){return ae({path:Le,isReady:!(arguments.length>1&&void 0!==arguments[1])||arguments[1],params:e,refreshInterval:1e4,method:O,isImmutable:!1})}((0,m.Z)({direction:null!==(n=F[0])&&void 0!==n&&n.desc?"DESC":null!=="ASC"?"ASC":"DESC",size:E,page:null!==Z&&void 0!==Z?Z:0,sortBy:null!==(t=null===(a=F[0])||void 0===a?void 0:a.id)&&void 0!==t?t:"email"},""===v?{}:{searchValue:v})),xe=me.data,pe=me.mutate,he=P(),ge=W(),fe=ge.setFormUser,je=ge.formUser,be=ge.setActiveSteps,ve=(0,m.Z)((0,m.Z)({},je),{},{userGroupId:null===je||void 0===je||null===(s=je.userGroupId)||void 0===s?void 0:s.split(":")[0]}),ye=null===xe||void 0===xe?void 0:xe.content,we=(0,x.useCallback)((function(e){var n=e.sortBy,t=e.pageSize,o=e.pageIndex;I(n),B(o),R(t)}),[]),Se=function(e){var n,t,o,i;ye&&(fe({email:ye[e].email||"",mobilePhone:ye[e].mobilePhone||"",name:ye[e].name||"",nik:ye[e].nik||"",role:ye[e].role||"",identifier:(null===(n=ye[e])||void 0===n?void 0:n.userId)||"",userGroupId:(null===(t=ye[e])||void 0===t||null===(o=t.userGroup)||void 0===o?void 0:o.id)||""}),te(null===(i=ye[e])||void 0===i?void 0:i.id))},ke=function(){return se(!1)},Ce=function(){return te(null)},Fe=function(){ue(!1),pe()};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.Box,{children:ye?(0,j.jsxs)(i.Box,{children:[(0,j.jsxs)(i.Flex,{direction:{base:"column",md:"row"},justifyContent:"space-between",alignItems:"center",children:[(0,j.jsx)(S,{id:l,value:v,onChange:function(e){return y(e)},placeHolder:d.formatMessage({id:"searchUser"})}),(0,j.jsx)(i.Button,{id:"".concat(l,"-create-user-btn"),onClick:function(){return se(!0)},leftIcon:(0,j.jsx)(p.wEH,{}),children:(0,j.jsx)(i.Text,{fontWeight:400,children:(0,j.jsx)(r.FormattedMessage,{id:"createUser"})})})]}),ye&&(null===ye||void 0===ye?void 0:ye.length)>0?(0,j.jsx)(w,{id:l,onSort:we,columns:g?u:c,tableData:ye,defaultItemPerPage:E,defaultPageNumber:Z,isUseMenu:!0,handleStatusItem:N,handleSessionItem:J,handleDeleteItem:Q,handleEditItem:Se,totalPage:null===xe||void 0===xe?void 0:xe.totalRecord,renderRowSubComponent:function(e){return(0,j.jsx)(Je,{id:l,row:e,handleEditOpen:Se,setCellDelete:Q})}}):(0,j.jsx)(i.Flex,{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"column",minH:"50vh",fontWeight:400,fontSize:16,children:(0,j.jsxs)(i.Text,{color:"gray.900",textAlign:"center",my:8,children:["Anda belum memiliki daftar user.",(0,j.jsx)("br",{}),"Silakan menambahkan user baru terlebih dahulu."]})})]}):(0,j.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",minH:"50vh",children:(0,j.jsx)(i.Spinner,{width:32,height:32})})}),(0,j.jsx)(Ee,{id:l,cellSelect:L,setCellSelect:N,onUnlock:function(){return ue(!0),_e(ye?ye[null!==L&&void 0!==L?L:0].id:"").then((function(){return he({status:"success",description:"unlock user berhasil"}),ue(!1),pe(),!0})).catch((function(){return Fe(),!0}))},children:(0,j.jsx)(qe,{cellSelect:L,userData:ye})}),(0,j.jsx)(Oe,{id:l,cellSelect:null!==q&&void 0!==q?q:null,setCellSelect:J,onRelease:function(){return ue(!0),Ne(ye?ye[null!==q&&void 0!==q?q:0].id:"").then((function(){return he({status:"success",description:"release user berhasil"}),ue(!1),pe(),!0})).catch((function(){return Fe(),!0}))},children:(0,j.jsx)(Ke,{cellSelect:null!==q&&void 0!==q?q:0,userData:ye})}),(0,j.jsx)(M,{id:l,cellSelect:null!==Y&&void 0!==Y?Y:null,title:d.formatMessage({id:"deleteUser"}),description:d.formatMessage({id:"deleteUserConfirmation"}),note:d.formatMessage({id:"deleteUserNote"}),setCellSelect:Q,onDelete:function(){var e;return ue(!0),Ae(ye?null===(e=ye[null!==Y&&void 0!==Y?Y:0])||void 0===e?void 0:e.id:"").then((function(){return he({status:"success",description:d.formatMessage({id:"successDeleteUser"})}),ue(!1),pe(),!0})).catch((function(){return Fe(),!0}))},children:(0,j.jsx)(Ve,{cellSelect:null!==Y&&void 0!==Y?Y:0,userData:ye})}),(0,j.jsx)(D,{id:"".concat(l,"-edit-user"),onClose:Ce,isOpen:null!==ne,title:d.formatMessage({id:"editUser"}),steps:Xe({id:"".concat(l,"-edit-user-modal")}),onComplete:function(){ue(!0),He((0,m.Z)((0,m.Z)({},ve),{},{id:ne,status:0})).then((function(){pe(),he({status:"success",description:d.formatMessage({id:"successEditUser"})}),ue(!1),Ce(),be(0),fe(null)})).catch((function(){ue(!1)}))},isLoading:ce}),(0,j.jsx)(D,{id:"".concat(l,"-create-user"),isOpen:re,onClose:ke,title:d.formatMessage({id:"createUser"}),steps:Xe({id:"".concat(l,"-create-user-modal")}),onComplete:function(){ue(!0),Re(ve).then((function(){pe(),he({status:"success",description:d.formatMessage({id:"successAddUser"})}),ue(!1),ke(),be(0),fe(null)})).catch((function(){ue(!1)}))},isLoading:ce})]})},Qe=function(){var e=(0,a.useSearchParams)(),n=(0,o.Z)(e,1)[0],t="user"===n.get("tab")?1:0,l=Number(n.get("item")||10),d=Number(n.get("page")||1);return(0,j.jsxs)(i.Container,{minHeight:"80vh",w:"full",maxW:"full",children:["INI DARI MODULE",(0,j.jsx)(i.Heading,{fontSize:{base:24,md:32},py:8,fontWeight:"bold",color:"black",children:(0,j.jsx)(r.FormattedMessage,{id:"userManagement"})}),(0,j.jsxs)(i.Tabs,{id:"user-management-tabs",defaultIndex:t,mt:8,children:[(0,j.jsx)(i.TabList,{id:"user-management-tab-list",borderBottomWidth:1,borderColor:"gray.200",children:s.map((function(e){return(0,j.jsx)(i.Tab,{id:"user-management-tab-".concat(Se(e)),w:{base:"full",md:120},_focus:{boxShadow:"none"},_active:{backgroundColor:"none"},_selected:{borderBottomWidth:4,borderBottomColor:"orange.500",fontWeight:"bold",color:"orange.500"},children:(0,j.jsx)(i.Text,{fontSize:16,children:(0,j.jsx)(r.FormattedMessage,{id:e})})},e)}))}),(0,j.jsxs)(i.TabPanels,{id:"user-management-tab-panels",py:8,children:[(0,j.jsx)(i.TabPanel,{id:"user-management-tab-panel-user-group",p:0,children:(0,j.jsx)(Ge,{id:"user-management-group",defaultItemPerPage:l,defaultPageNumber:d})}),(0,j.jsx)(i.TabPanel,{id:"user-management-tab-panel-user",p:0,children:(0,j.jsx)(Ye,{id:"user-management-user",defaultItemPerPage:l,defaultPageNumber:d})})]})]})]})}}}]);